"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middlewares/with-custom-urls.ts":
/*!*****************************************!*\
  !*** ./middlewares/with-custom-urls.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withCustomUrls: () => (/* binding */ withCustomUrls)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(middleware)/./node_modules/next/dist/esm/api/headers.js\");\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(middleware)/./node_modules/next/dist/esm/server/web/exports/next-response.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! zod */ \"(middleware)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ~/auth */ \"(middleware)/./auth.ts\");\n/* harmony import */ var _client_generated_graphql__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ~/client/generated/graphql */ \"(middleware)/./client/generated/graphql.ts\");\n/* harmony import */ var _client_queries_get_route__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ~/client/queries/get-route */ \"(middleware)/./client/queries/get-route.ts\");\n/* harmony import */ var _client_queries_get_store_status__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ~/client/queries/get-store-status */ \"(middleware)/./client/queries/get-store-status.ts\");\n/* harmony import */ var _lib_kv__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/kv */ \"(middleware)/./lib/kv/index.ts\");\n// import { cookies } from 'next/headers';\n// import { NextRequest, NextResponse } from 'next/server';\n// import { z } from 'zod';\n// import { getSessionCustomerId } from '~/auth';\n// import { StorefrontStatusType } from '~/client/generated/graphql';\n// import { getRoute } from '~/client/queries/get-route';\n// import { getStoreStatus } from '~/client/queries/get-store-status';\n// import { kv } from '../lib/kv';\n// import { type MiddlewareFactory } from './compose-middlewares';\n// type Node = Awaited<ReturnType<typeof getRoute>>;\n// interface RouteCache {\n//   node: Node;\n//   expiryTime: number;\n// }\n// const STORE_STATUS_KEY = 'storeStatus';\n// interface StorefrontStatusCache {\n//   status: StorefrontStatusType;\n//   expiryTime: number;\n// }\n// const createRewriteUrl = (path: string, request: NextRequest) => {\n//   const url = new URL(path, request.url);\n//   url.search = request.nextUrl.search;\n//   return url;\n// };\n// const StorefrontStatusCacheSchema = z.object({\n//   status: z.nativeEnum(StorefrontStatusType),\n//   expiryTime: z.number(),\n// });\n// const RouteCacheSchema = z.object({\n//   node: z.nullable(z.object({ __typename: z.string(), entityId: z.optional(z.number()) })),\n//   expiryTime: z.number(),\n// });\n// const getExistingRouteInfo = async (request: NextRequest) => {\n//   try {\n//     const pathname = request.nextUrl.pathname;\n//     const [routeCache, statusCache] = await kv.mget<RouteCache | StorefrontStatusCache>(\n//       pathname,\n//       STORE_STATUS_KEY,\n//     );\n//     if (statusCache && statusCache.expiryTime < Date.now()) {\n//       void fetch(new URL(`/api/revalidate/store-status`, request.url), {\n//         method: 'POST',\n//         headers: {\n//           'x-internal-token': process.env.BIGCOMMERCE_CUSTOMER_IMPERSONATION_TOKEN ?? '',\n//         },\n//       });\n//     }\n//     if (routeCache && routeCache.expiryTime < Date.now()) {\n//       void fetch(new URL(`/api/revalidate/route`, request.url), {\n//         method: 'POST',\n//         body: JSON.stringify({ pathname }),\n//         headers: {\n//           'x-internal-token': process.env.BIGCOMMERCE_CUSTOMER_IMPERSONATION_TOKEN ?? '',\n//         },\n//       });\n//     }\n//     const parsedRoute = RouteCacheSchema.safeParse(routeCache);\n//     const parsedStatus = StorefrontStatusCacheSchema.safeParse(statusCache);\n//     return {\n//       // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n//       node: parsedRoute.success ? (parsedRoute.data.node as Node) : undefined,\n//       status: parsedStatus.success ? parsedStatus.data.status : undefined,\n//     };\n//   } catch (error) {\n//     // eslint-disable-next-line no-console\n//     console.error(error);\n//     return {\n//       node: undefined,\n//       status: undefined,\n//     };\n//   }\n// };\n// const setKvStatus = async (status?: StorefrontStatusType | null) => {\n//   try {\n//     const expiryTime = Date.now() + 1000 * 60 * 5; // 5 minutes;\n//     await kv.set(STORE_STATUS_KEY, { status, expiryTime });\n//   } catch (error) {\n//     // eslint-disable-next-line no-console\n//     console.error(error);\n//   }\n// };\n// const setKvRoute = async (request: NextRequest, node: Node) => {\n//   try {\n//     const expiryTime = Date.now() + 1000 * 60 * 30; // 30 minutes;\n//     await kv.set(request.nextUrl.pathname, { node, expiryTime });\n//   } catch (error) {\n//     // eslint-disable-next-line no-console\n//     console.error(error);\n//   }\n// };\n// const getRouteInfo = async (request: NextRequest) => {\n//   try {\n//     let { node, status } = await getExistingRouteInfo(request);\n//     if (status === undefined) {\n//       const newStatus = await getStoreStatus();\n//       if (newStatus) {\n//         status = newStatus;\n//         await setKvStatus(status);\n//       }\n//     }\n//     if (node === undefined) {\n//       const newNode = await getRoute(request.nextUrl.pathname);\n//       node = newNode;\n//       await setKvRoute(request, node);\n//     }\n//     return { node, status };\n//   } catch (error) {\n//     // eslint-disable-next-line no-console\n//     console.error(error);\n//     return {\n//       node: undefined,\n//       status: undefined,\n//     };\n//   }\n// };\n// export const withCustomUrls: MiddlewareFactory = (next) => {\n//   return async (request, event) => {\n//     const { node, status } = await getRouteInfo(request);\n//     if (status === 'MAINTENANCE') {\n//       // 503 status code not working - https://github.com/vercel/next.js/issues/50155\n//       return NextResponse.rewrite(new URL(`/maintenance`, request.url), { status: 503 });\n//     }\n//     const customerId = await getSessionCustomerId();\n//     const cartId = cookies().get('cartId');\n//     let postfix = '';\n//     if (!request.nextUrl.search && !customerId && !cartId && request.method === 'GET') {\n//       postfix = '/static';\n//     }\n//     switch (node?.__typename) {\n//       case 'Brand': {\n//         const url = createRewriteUrl(`/brand/${node.entityId}${postfix}`, request);\n//         return NextResponse.rewrite(url);\n//       }\n//       case 'Category': {\n//         const url = createRewriteUrl(`/category/${node.entityId}${postfix}`, request);\n//         return NextResponse.rewrite(url);\n//       }\n//       case 'Product': {\n//         const url = createRewriteUrl(`/product/${node.entityId}${postfix}`, request);\n//         return NextResponse.rewrite(url);\n//       }\n//       case 'ContactPage':\n//       case 'NormalPage': {\n//         const { pathname } = new URL(request.url);\n//         const url = createRewriteUrl(`/bc-page${pathname}`, request);\n//         return NextResponse.rewrite(url);\n//       }\n//       default: {\n//         const { pathname } = new URL(request.url);\n//         if (pathname === '/' && postfix) {\n//           const url = createRewriteUrl(postfix, request);\n//           return NextResponse.rewrite(url);\n//         }\n//         return next(request, event);\n//       }\n//     }\n//   };\n// };\n// import { cookies } from 'next/headers';\n// import { NextRequest, NextResponse } from 'next/server';\n// import { z } from 'zod';\n// import { getSessionCustomerId } from '~/auth';\n// import { StorefrontStatusType } from '~/client/generated/graphql';\n// import { getRoute } from '~/client/queries/get-route';\n// import { getStoreStatus } from '~/client/queries/get-store-status';\n// import { kv } from '../lib/kv';\n// import { type MiddlewareFactory } from './compose-middlewares';\n// type Node = Awaited<ReturnType<typeof getRoute>>;\n// interface RouteCache {\n//   node: Node;\n//   expiryTime: number;\n// }\n// const STORE_STATUS_KEY = 'storeStatus';\n// interface StorefrontStatusCache {\n//   status: StorefrontStatusType;\n//   expiryTime: number;\n// }\n// const createRewriteUrl = (path: string, request: NextRequest) => {\n//   const url = new URL(path, request.url);\n//   url.search = request.nextUrl.search;\n//   return url;\n// };\n// const StorefrontStatusCacheSchema = z.object({\n//   status: z.nativeEnum(StorefrontStatusType),\n//   expiryTime: z.number(),\n// });\n// const RouteCacheSchema = z.object({\n//   node: z.nullable(z.object({ __typename: z.string(), entityId: z.optional(z.number()) })),\n//   expiryTime: z.number(),\n// });\n// const getExistingRouteInfo = async (request: NextRequest) => {\n//   try {\n//     const pathname = request.nextUrl.pathname;\n//     const [routeCache, statusCache] = await kv.mget<RouteCache | StorefrontStatusCache>(\n//       pathname,\n//       STORE_STATUS_KEY,\n//     );\n//     if (statusCache && statusCache.expiryTime < Date.now()) {\n//       void fetch(new URL(`/api/revalidate/store-status`, request.url), {\n//         method: 'POST',\n//         headers: {\n//           'x-internal-token': process.env.BIGCOMMERCE_CUSTOMER_IMPERSONATION_TOKEN ?? '',\n//         },\n//       });\n//     }\n//     if (routeCache && routeCache.expiryTime < Date.now()) {\n//       void fetch(new URL(`/api/revalidate/route`, request.url), {\n//         method: 'POST',\n//         body: JSON.stringify({ pathname }),\n//         headers: {\n//           'x-internal-token': process.env.BIGCOMMERCE_CUSTOMER_IMPERSONATION_TOKEN ?? '',\n//         },\n//       });\n//     }\n//     const parsedRoute = RouteCacheSchema.safeParse(routeCache);\n//     const parsedStatus = StorefrontStatusCacheSchema.safeParse(statusCache);\n//     return {\n//       // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n//       node: parsedRoute.success ? (parsedRoute.data.node as Node) : undefined,\n//       status: parsedStatus.success ? parsedStatus.data.status : undefined,\n//     };\n//   } catch (error) {\n//     // eslint-disable-next-line no-console\n//     console.error(error);\n//     return {\n//       node: undefined,\n//       status: undefined,\n//     };\n//   }\n// };\n// const setKvStatus = async (status?: StorefrontStatusType | null) => {\n//   try {\n//     const expiryTime = Date.now() + 1000 * 60 * 5; // 5 minutes;\n//     await kv.set(STORE_STATUS_KEY, { status, expiryTime });\n//   } catch (error) {\n//     // eslint-disable-next-line no-console\n//     console.error(error);\n//   }\n// };\n// const setKvRoute = async (request: NextRequest, node: Node) => {\n//   try {\n//     const expiryTime = Date.now() + 1000 * 60 * 30; // 30 minutes;\n//     await kv.set(request.nextUrl.pathname, { node, expiryTime });\n//   } catch (error) {\n//     // eslint-disable-next-line no-console\n//     console.error(error);\n//   }\n// };\n// const getRouteInfo = async (request: NextRequest) => {\n//   try {\n//     let { node, status } = await getExistingRouteInfo(request);\n//     if (status === undefined) {\n//       const newStatus = await getStoreStatus();\n//       if (newStatus) {\n//         status = newStatus;\n//         await setKvStatus(status);\n//       }\n//     }\n//     if (node === undefined) {\n//       const newNode = await getRoute(request.nextUrl.pathname);\n//       node = newNode;\n//       await setKvRoute(request, node);\n//     }\n//     return { node, status };\n//   } catch (error) {\n//     // eslint-disable-next-line no-console\n//     console.error(error);\n//     return {\n//       node: undefined,\n//       status: undefined,\n//     };\n//   }\n// };\n// export const withCustomUrls: MiddlewareFactory = (next) => {\n//   return async (request, event) => {\n//     const { node, status } = await getRouteInfo(request);\n//     if (status === 'MAINTENANCE') {\n//       // 503 status code not working - https://github.com/vercel/next.js/issues/50155\n//       return NextResponse.rewrite(new URL(`/maintenance`, request.url), { status: 503 });\n//     }\n//     const customerId = await getSessionCustomerId();\n//     const cartId = cookies().get('cartId');\n//     let postfix = '';\n//     if (!request.nextUrl.search && !customerId && !cartId && request.method === 'GET') {\n//       postfix = '/static';\n//     }\n//     // Rewrite / to /lookbook -- ARIZON\n//     if (request.nextUrl.pathname === '/') {\n//       return NextResponse.rewrite(new URL('/page', request.url));\n//     }\n//     switch (node?.__typename) {\n//       case 'Brand': {\n//         const url = createRewriteUrl(`/brand/${node.entityId}${postfix}`, request);\n//         return NextResponse.rewrite(url);\n//       }\n//       case 'Category': {\n//         const url = createRewriteUrl(`/category/${node.entityId}${postfix}`, request);\n//         return NextResponse.rewrite(url);\n//       }\n//       case 'Product': {\n//         const url = createRewriteUrl(`/product/${node.entityId}${postfix}`, request);\n//         return NextResponse.rewrite(url);\n//       }\n//       case 'ContactPage':\n//       case 'NormalPage': {\n//         const { pathname } = new URL(request.url);\n//         const url = createRewriteUrl(`/bc-page${pathname}`, request);\n//         return NextResponse.rewrite(url);\n//       }\n//       default: {\n//         const { pathname } = new URL(request.url);\n//         if (pathname === '/' && postfix) {\n//           const url = createRewriteUrl(postfix, request);\n//           return NextResponse.rewrite(url);\n//         }\n//         return next(request, event);\n//       }\n//     }\n//   };\n// };\n\n\n\n\n\n\n\n\nconst STORE_STATUS_KEY = \"storeStatus\";\nconst createRewriteUrl = (path, request)=>{\n    const url = new URL(path, request.url);\n    url.search = request.nextUrl.search;\n    return url;\n};\nconst StorefrontStatusCacheSchema = zod__WEBPACK_IMPORTED_MODULE_7__.z.object({\n    status: zod__WEBPACK_IMPORTED_MODULE_7__.z.nativeEnum(_client_generated_graphql__WEBPACK_IMPORTED_MODULE_3__.StorefrontStatusType),\n    expiryTime: zod__WEBPACK_IMPORTED_MODULE_7__.z.number()\n});\nconst RouteCacheSchema = zod__WEBPACK_IMPORTED_MODULE_7__.z.object({\n    node: zod__WEBPACK_IMPORTED_MODULE_7__.z.nullable(zod__WEBPACK_IMPORTED_MODULE_7__.z.object({\n        __typename: zod__WEBPACK_IMPORTED_MODULE_7__.z.string(),\n        entityId: zod__WEBPACK_IMPORTED_MODULE_7__.z.optional(zod__WEBPACK_IMPORTED_MODULE_7__.z.number())\n    })),\n    expiryTime: zod__WEBPACK_IMPORTED_MODULE_7__.z.number()\n});\nconst getExistingRouteInfo = async (request)=>{\n    try {\n        const pathname = request.nextUrl.pathname;\n        const [routeCache, statusCache] = await _lib_kv__WEBPACK_IMPORTED_MODULE_6__.kv.mget(pathname, STORE_STATUS_KEY);\n        if (statusCache && statusCache.expiryTime < Date.now()) {\n            void fetch(new URL(`/api/revalidate/store-status`, request.url), {\n                method: \"POST\",\n                headers: {\n                    \"x-internal-token\": process.env.BIGCOMMERCE_CUSTOMER_IMPERSONATION_TOKEN ?? \"\"\n                }\n            });\n        }\n        if (routeCache && routeCache.expiryTime < Date.now()) {\n            void fetch(new URL(`/api/revalidate/route`, request.url), {\n                method: \"POST\",\n                body: JSON.stringify({\n                    pathname\n                }),\n                headers: {\n                    \"x-internal-token\": process.env.BIGCOMMERCE_CUSTOMER_IMPERSONATION_TOKEN ?? \"\"\n                }\n            });\n        }\n        const parsedRoute = RouteCacheSchema.safeParse(routeCache);\n        const parsedStatus = StorefrontStatusCacheSchema.safeParse(statusCache);\n        return {\n            node: parsedRoute.success ? parsedRoute.data.node : undefined,\n            status: parsedStatus.success ? parsedStatus.data.status : undefined\n        };\n    } catch (error) {\n        console.error(error);\n        return {\n            node: undefined,\n            status: undefined\n        };\n    }\n};\nconst setKvStatus = async (status)=>{\n    try {\n        const expiryTime = Date.now() + 1000 * 60 * 5; // 5 minutes;\n        await _lib_kv__WEBPACK_IMPORTED_MODULE_6__.kv.set(STORE_STATUS_KEY, {\n            status,\n            expiryTime\n        });\n    } catch (error) {\n        console.error(error);\n    }\n};\nconst setKvRoute = async (request, node)=>{\n    try {\n        const expiryTime = Date.now() + 1000 * 60 * 30; // 30 minutes;\n        await _lib_kv__WEBPACK_IMPORTED_MODULE_6__.kv.set(request.nextUrl.pathname, {\n            node,\n            expiryTime\n        });\n    } catch (error) {\n        console.error(error);\n    }\n};\nconst getRouteInfo = async (request)=>{\n    try {\n        let { node, status } = await getExistingRouteInfo(request);\n        if (status === undefined) {\n            const newStatus = await (0,_client_queries_get_store_status__WEBPACK_IMPORTED_MODULE_5__.getStoreStatus)();\n            if (newStatus) {\n                status = newStatus;\n                await setKvStatus(status);\n            }\n        }\n        if (node === undefined) {\n            const newNode = await (0,_client_queries_get_route__WEBPACK_IMPORTED_MODULE_4__.getRoute)(request.nextUrl.pathname);\n            node = newNode;\n            await setKvRoute(request, node);\n        }\n        return {\n            node,\n            status\n        };\n    } catch (error) {\n        console.error(error);\n        return {\n            node: undefined,\n            status: undefined\n        };\n    }\n};\nconst withCustomUrls = (next)=>{\n    return async (request, event)=>{\n        const { node, status } = await getRouteInfo(request);\n        if (status === \"MAINTENANCE\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rewrite(new URL(`/maintenance`, request.url), {\n                status: 503\n            });\n        }\n        const customerId = await (0,_auth__WEBPACK_IMPORTED_MODULE_2__.getSessionCustomerId)();\n        const cartId = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().get(\"cartId\");\n        let postfix = \"\";\n        if (!request.nextUrl.search && !customerId && !cartId && request.method === \"GET\") {\n            postfix = \"/static\";\n        }\n        // Rewrite / to /page\n        if (request.nextUrl.pathname === \"/\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rewrite(new URL(\"/page\", request.url));\n        }\n        switch(node?.__typename){\n            case \"Brand\":\n                {\n                    const url = createRewriteUrl(`/brand/${node.entityId}${postfix}`, request);\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rewrite(url);\n                }\n            case \"Category\":\n                {\n                    const url = createRewriteUrl(`/category/${node.entityId}${postfix}`, request);\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rewrite(url);\n                }\n            case \"Product\":\n                {\n                    const url = createRewriteUrl(`/product/${node.entityId}${postfix}`, request);\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rewrite(url);\n                }\n            case \"ContactPage\":\n            case \"NormalPage\":\n                {\n                    const { pathname } = new URL(request.url);\n                    const url = createRewriteUrl(`/bc-page${pathname}`, request);\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rewrite(url);\n                }\n            default:\n                {\n                    const { pathname } = new URL(request.url);\n                    if (pathname === \"/\" && postfix) {\n                        const url = createRewriteUrl(postfix, request);\n                        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rewrite(url);\n                    }\n                    return next(request, event);\n                }\n        }\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZXMvd2l0aC1jdXN0b20tdXJscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSwwQ0FBMEM7QUFDMUMsMkRBQTJEO0FBQzNELDJCQUEyQjtBQUUzQixpREFBaUQ7QUFDakQscUVBQXFFO0FBQ3JFLHlEQUF5RDtBQUN6RCxzRUFBc0U7QUFFdEUsa0NBQWtDO0FBRWxDLGtFQUFrRTtBQUVsRSxvREFBb0Q7QUFFcEQseUJBQXlCO0FBQ3pCLGdCQUFnQjtBQUNoQix3QkFBd0I7QUFDeEIsSUFBSTtBQUVKLDBDQUEwQztBQUUxQyxvQ0FBb0M7QUFDcEMsa0NBQWtDO0FBQ2xDLHdCQUF3QjtBQUN4QixJQUFJO0FBRUoscUVBQXFFO0FBQ3JFLDRDQUE0QztBQUU1Qyx5Q0FBeUM7QUFFekMsZ0JBQWdCO0FBQ2hCLEtBQUs7QUFFTCxpREFBaUQ7QUFDakQsZ0RBQWdEO0FBQ2hELDRCQUE0QjtBQUM1QixNQUFNO0FBRU4sc0NBQXNDO0FBQ3RDLDhGQUE4RjtBQUM5Riw0QkFBNEI7QUFDNUIsTUFBTTtBQUVOLGlFQUFpRTtBQUNqRSxVQUFVO0FBQ1YsaURBQWlEO0FBRWpELDJGQUEyRjtBQUMzRixrQkFBa0I7QUFDbEIsMEJBQTBCO0FBQzFCLFNBQVM7QUFFVCxnRUFBZ0U7QUFDaEUsMkVBQTJFO0FBQzNFLDBCQUEwQjtBQUMxQixxQkFBcUI7QUFDckIsNEZBQTRGO0FBQzVGLGFBQWE7QUFDYixZQUFZO0FBQ1osUUFBUTtBQUVSLDhEQUE4RDtBQUM5RCxvRUFBb0U7QUFDcEUsMEJBQTBCO0FBQzFCLDhDQUE4QztBQUM5QyxxQkFBcUI7QUFDckIsNEZBQTRGO0FBQzVGLGFBQWE7QUFDYixZQUFZO0FBQ1osUUFBUTtBQUVSLGtFQUFrRTtBQUNsRSwrRUFBK0U7QUFFL0UsZUFBZTtBQUNmLGtGQUFrRjtBQUNsRixpRkFBaUY7QUFDakYsNkVBQTZFO0FBQzdFLFNBQVM7QUFDVCxzQkFBc0I7QUFDdEIsNkNBQTZDO0FBQzdDLDRC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QUV2RDtvQkFDckUsT0FBT1Ysa0ZBQVlBLENBQUM2RCxPQUFPLENBQUNsRDtnQkFDOUI7WUFDQSxLQUFLO2dCQUFXO29CQUNkLE1BQU1BLE1BQU1ILGlCQUFpQixDQUFDLFNBQVMsRUFBRWMsS0FBS0ksUUFBUSxDQUFDLEVBQUV1QyxRQUFRLENBQUMsRUFBRXZEO29CQUNwRSxPQUFPVixrRkFBWUEsQ0FBQzZELE9BQU8sQ0FBQ2xEO2dCQUM5QjtZQUNBLEtBQUs7WUFDTCxLQUFLO2dCQUFjO29CQUNqQixNQUFNLEVBQUVrQixRQUFRLEVBQUUsR0FBRyxJQUFJakIsSUFBSUYsUUFBUUMsR0FBRztvQkFDeEMsTUFBTUEsTUFBTUgsaUJBQWlCLENBQUMsUUFBUSxFQUFFcUIsU0FBUyxDQUFDLEVBQUVuQjtvQkFDcEQsT0FBT1Ysa0ZBQVlBLENBQUM2RCxPQUFPLENBQUNsRDtnQkFDOUI7WUFDQTtnQkFBUztvQkFDUCxNQUFNLEVBQUVrQixRQUFRLEVBQUUsR0FBRyxJQUFJakIsSUFBSUYsUUFBUUMsR0FBRztvQkFDeEMsSUFBSWtCLGFBQWEsT0FBT29DLFNBQVM7d0JBQy9CLE1BQU10RCxNQUFNSCxpQkFBaUJ5RCxTQUFTdkQ7d0JBQ3RDLE9BQU9WLGtGQUFZQSxDQUFDNkQsT0FBTyxDQUFDbEQ7b0JBQzlCO29CQUNBLE9BQU9nRCxLQUFLakQsU0FBU2tEO2dCQUN2QjtRQUNGO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL21pZGRsZXdhcmVzL3dpdGgtY3VzdG9tLXVybHMudHM/NTdiYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcbi8vIGltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG4vLyBpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuLy8gaW1wb3J0IHsgZ2V0U2Vzc2lvbkN1c3RvbWVySWQgfSBmcm9tICd+L2F1dGgnO1xuLy8gaW1wb3J0IHsgU3RvcmVmcm9udFN0YXR1c1R5cGUgfSBmcm9tICd+L2NsaWVudC9nZW5lcmF0ZWQvZ3JhcGhxbCc7XG4vLyBpbXBvcnQgeyBnZXRSb3V0ZSB9IGZyb20gJ34vY2xpZW50L3F1ZXJpZXMvZ2V0LXJvdXRlJztcbi8vIGltcG9ydCB7IGdldFN0b3JlU3RhdHVzIH0gZnJvbSAnfi9jbGllbnQvcXVlcmllcy9nZXQtc3RvcmUtc3RhdHVzJztcblxuLy8gaW1wb3J0IHsga3YgfSBmcm9tICcuLi9saWIva3YnO1xuXG4vLyBpbXBvcnQgeyB0eXBlIE1pZGRsZXdhcmVGYWN0b3J5IH0gZnJvbSAnLi9jb21wb3NlLW1pZGRsZXdhcmVzJztcblxuLy8gdHlwZSBOb2RlID0gQXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBnZXRSb3V0ZT4+O1xuXG4vLyBpbnRlcmZhY2UgUm91dGVDYWNoZSB7XG4vLyAgIG5vZGU6IE5vZGU7XG4vLyAgIGV4cGlyeVRpbWU6IG51bWJlcjtcbi8vIH1cblxuLy8gY29uc3QgU1RPUkVfU1RBVFVTX0tFWSA9ICdzdG9yZVN0YXR1cyc7XG5cbi8vIGludGVyZmFjZSBTdG9yZWZyb250U3RhdHVzQ2FjaGUge1xuLy8gICBzdGF0dXM6IFN0b3JlZnJvbnRTdGF0dXNUeXBlO1xuLy8gICBleHBpcnlUaW1lOiBudW1iZXI7XG4vLyB9XG5cbi8vIGNvbnN0IGNyZWF0ZVJld3JpdGVVcmwgPSAocGF0aDogc3RyaW5nLCByZXF1ZXN0OiBOZXh0UmVxdWVzdCkgPT4ge1xuLy8gICBjb25zdCB1cmwgPSBuZXcgVVJMKHBhdGgsIHJlcXVlc3QudXJsKTtcblxuLy8gICB1cmwuc2VhcmNoID0gcmVxdWVzdC5uZXh0VXJsLnNlYXJjaDtcblxuLy8gICByZXR1cm4gdXJsO1xuLy8gfTtcblxuLy8gY29uc3QgU3RvcmVmcm9udFN0YXR1c0NhY2hlU2NoZW1hID0gei5vYmplY3Qoe1xuLy8gICBzdGF0dXM6IHoubmF0aXZlRW51bShTdG9yZWZyb250U3RhdHVzVHlwZSksXG4vLyAgIGV4cGlyeVRpbWU6IHoubnVtYmVyKCksXG4vLyB9KTtcblxuLy8gY29uc3QgUm91dGVDYWNoZVNjaGVtYSA9IHoub2JqZWN0KHtcbi8vICAgbm9kZTogei5udWxsYWJsZSh6Lm9iamVjdCh7IF9fdHlwZW5hbWU6IHouc3RyaW5nKCksIGVudGl0eUlkOiB6Lm9wdGlvbmFsKHoubnVtYmVyKCkpIH0pKSxcbi8vICAgZXhwaXJ5VGltZTogei5udW1iZXIoKSxcbi8vIH0pO1xuXG4vLyBjb25zdCBnZXRFeGlzdGluZ1JvdXRlSW5mbyA9IGFzeW5jIChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkgPT4ge1xuLy8gICB0cnkge1xuLy8gICAgIGNvbnN0IHBhdGhuYW1lID0gcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lO1xuXG4vLyAgICAgY29uc3QgW3JvdXRlQ2FjaGUsIHN0YXR1c0NhY2hlXSA9IGF3YWl0IGt2Lm1nZXQ8Um91dGVDYWNoZSB8IFN0b3JlZnJvbnRTdGF0dXNDYWNoZT4oXG4vLyAgICAgICBwYXRobmFtZSxcbi8vICAgICAgIFNUT1JFX1NUQVRVU19LRVksXG4vLyAgICAgKTtcblxuLy8gICAgIGlmIChzdGF0dXNDYWNoZSAmJiBzdGF0dXNDYWNoZS5leHBpcnlUaW1lIDwgRGF0ZS5ub3coKSkge1xuLy8gICAgICAgdm9pZCBmZXRjaChuZXcgVVJMKGAvYXBpL3JldmFsaWRhdGUvc3RvcmUtc3RhdHVzYCwgcmVxdWVzdC51cmwpLCB7XG4vLyAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuLy8gICAgICAgICBoZWFkZXJzOiB7XG4vLyAgICAgICAgICAgJ3gtaW50ZXJuYWwtdG9rZW4nOiBwcm9jZXNzLmVudi5CSUdDT01NRVJDRV9DVVNUT01FUl9JTVBFUlNPTkFUSU9OX1RPS0VOID8/ICcnLFxuLy8gICAgICAgICB9LFxuLy8gICAgICAgfSk7XG4vLyAgICAgfVxuXG4vLyAgICAgaWYgKHJvdXRlQ2FjaGUgJiYgcm91dGVDYWNoZS5leHBpcnlUaW1lIDwgRGF0ZS5ub3coKSkge1xuLy8gICAgICAgdm9pZCBmZXRjaChuZXcgVVJMKGAvYXBpL3JldmFsaWRhdGUvcm91dGVgLCByZXF1ZXN0LnVybCksIHtcbi8vICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4vLyAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcGF0aG5hbWUgfSksXG4vLyAgICAgICAgIGhlYWRlcnM6IHtcbi8vICAgICAgICAgICAneC1pbnRlcm5hbC10b2tlbic6IHByb2Nlc3MuZW52LkJJR0NPTU1FUkNFX0NVU1RPTUVSX0lNUEVSU09OQVRJT05fVE9LRU4gPz8gJycsXG4vLyAgICAgICAgIH0sXG4vLyAgICAgICB9KTtcbi8vICAgICB9XG5cbi8vICAgICBjb25zdCBwYXJzZWRSb3V0ZSA9IFJvdXRlQ2FjaGVTY2hlbWEuc2FmZVBhcnNlKHJvdXRlQ2FjaGUpO1xuLy8gICAgIGNvbnN0IHBhcnNlZFN0YXR1cyA9IFN0b3JlZnJvbnRTdGF0dXNDYWNoZVNjaGVtYS5zYWZlUGFyc2Uoc3RhdHVzQ2FjaGUpO1xuXG4vLyAgICAgcmV0dXJuIHtcbi8vICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbi8vICAgICAgIG5vZGU6IHBhcnNlZFJvdXRlLnN1Y2Nlc3MgPyAocGFyc2VkUm91dGUuZGF0YS5ub2RlIGFzIE5vZGUpIDogdW5kZWZpbmVkLFxuLy8gICAgICAgc3RhdHVzOiBwYXJzZWRTdGF0dXMuc3VjY2VzcyA/IHBhcnNlZFN0YXR1cy5kYXRhLnN0YXR1cyA6IHVuZGVmaW5lZCxcbi8vICAgICB9O1xuLy8gICB9IGNhdGNoIChlcnJvcikge1xuLy8gICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4vLyAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG5cbi8vICAgICByZXR1cm4ge1xuLy8gICAgICAgbm9kZTogdW5kZWZpbmVkLFxuLy8gICAgICAgc3RhdHVzOiB1bmRlZmluZWQsXG4vLyAgICAgfTtcbi8vICAgfVxuLy8gfTtcblxuLy8gY29uc3Qgc2V0S3ZTdGF0dXMgPSBhc3luYyAoc3RhdHVzPzogU3RvcmVmcm9udFN0YXR1c1R5cGUgfCBudWxsKSA9PiB7XG4vLyAgIHRyeSB7XG4vLyAgICAgY29uc3QgZXhwaXJ5VGltZSA9IERhdGUubm93KCkgKyAxMDAwICogNjAgKiA1OyAvLyA1IG1pbnV0ZXM7XG5cbi8vICAgICBhd2FpdCBrdi5zZXQoU1RPUkVfU1RBVFVTX0tFWSwgeyBzdGF0dXMsIGV4cGlyeVRpbWUgfSk7XG4vLyAgIH0gY2F0Y2ggKGVycm9yKSB7XG4vLyAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbi8vICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbi8vICAgfVxuLy8gfTtcblxuLy8gY29uc3Qgc2V0S3ZSb3V0ZSA9IGFzeW5jIChyZXF1ZXN0OiBOZXh0UmVxdWVzdCwgbm9kZTogTm9kZSkgPT4ge1xuLy8gICB0cnkge1xuLy8gICAgIGNvbnN0IGV4cGlyeVRpbWUgPSBEYXRlLm5vdygpICsgMTAwMCAqIDYwICogMzA7IC8vIDMwIG1pbnV0ZXM7XG5cbi8vICAgICBhd2FpdCBrdi5zZXQocmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lLCB7IG5vZGUsIGV4cGlyeVRpbWUgfSk7XG4vLyAgIH0gY2F0Y2ggKGVycm9yKSB7XG4vLyAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbi8vICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbi8vICAgfVxuLy8gfTtcblxuLy8gY29uc3QgZ2V0Um91dGVJbmZvID0gYXN5bmMgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSA9PiB7XG4vLyAgIHRyeSB7XG4vLyAgICAgbGV0IHsgbm9kZSwgc3RhdHVzIH0gPSBhd2FpdCBnZXRFeGlzdGluZ1JvdXRlSW5mbyhyZXF1ZXN0KTtcblxuLy8gICAgIGlmIChzdGF0dXMgPT09IHVuZGVmaW5lZCkge1xuLy8gICAgICAgY29uc3QgbmV3U3RhdHVzID0gYXdhaXQgZ2V0U3RvcmVTdGF0dXMoKTtcblxuLy8gICAgICAgaWYgKG5ld1N0YXR1cykge1xuLy8gICAgICAgICBzdGF0dXMgPSBuZXdTdGF0dXM7XG4vLyAgICAgICAgIGF3YWl0IHNldEt2U3RhdHVzKHN0YXR1cyk7XG4vLyAgICAgICB9XG4vLyAgICAgfVxuXG4vLyAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkge1xuLy8gICAgICAgY29uc3QgbmV3Tm9kZSA9IGF3YWl0IGdldFJvdXRlKHJlcXVlc3QubmV4dFVybC5wYXRobmFtZSk7XG5cbi8vICAgICAgIG5vZGUgPSBuZXdOb2RlO1xuLy8gICAgICAgYXdhaXQgc2V0S3ZSb3V0ZShyZXF1ZXN0LCBub2RlKTtcbi8vICAgICB9XG5cbi8vICAgICByZXR1cm4geyBub2RlLCBzdGF0dXMgfTtcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuLy8gICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuXG4vLyAgICAgcmV0dXJuIHtcbi8vICAgICAgIG5vZGU6IHVuZGVmaW5lZCxcbi8vICAgICAgIHN0YXR1czogdW5kZWZpbmVkLFxuLy8gICAgIH07XG4vLyAgIH1cbi8vIH07XG5cbi8vIGV4cG9ydCBjb25zdCB3aXRoQ3VzdG9tVXJsczogTWlkZGxld2FyZUZhY3RvcnkgPSAobmV4dCkgPT4ge1xuLy8gICByZXR1cm4gYXN5bmMgKHJlcXVlc3QsIGV2ZW50KSA9PiB7XG4vLyAgICAgY29uc3QgeyBub2RlLCBzdGF0dXMgfSA9IGF3YWl0IGdldFJvdXRlSW5mbyhyZXF1ZXN0KTtcblxuLy8gICAgIGlmIChzdGF0dXMgPT09ICdNQUlOVEVOQU5DRScpIHtcbi8vICAgICAgIC8vIDUwMyBzdGF0dXMgY29kZSBub3Qgd29ya2luZyAtIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qcy9pc3N1ZXMvNTAxNTVcbi8vICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmV3cml0ZShuZXcgVVJMKGAvbWFpbnRlbmFuY2VgLCByZXF1ZXN0LnVybCksIHsgc3RhdHVzOiA1MDMgfSk7XG4vLyAgICAgfVxuXG4vLyAgICAgY29uc3QgY3VzdG9tZXJJZCA9IGF3YWl0IGdldFNlc3Npb25DdXN0b21lcklkKCk7XG4vLyAgICAgY29uc3QgY2FydElkID0gY29va2llcygpLmdldCgnY2FydElkJyk7XG4vLyAgICAgbGV0IHBvc3RmaXggPSAnJztcblxuLy8gICAgIGlmICghcmVxdWVzdC5uZXh0VXJsLnNlYXJjaCAmJiAhY3VzdG9tZXJJZCAmJiAhY2FydElkICYmIHJlcXVlc3QubWV0aG9kID09PSAnR0VUJykge1xuLy8gICAgICAgcG9zdGZpeCA9ICcvc3RhdGljJztcbi8vICAgICB9XG5cbi8vICAgICBzd2l0Y2ggKG5vZGU/Ll9fdHlwZW5hbWUpIHtcbi8vICAgICAgIGNhc2UgJ0JyYW5kJzoge1xuLy8gICAgICAgICBjb25zdCB1cmwgPSBjcmVhdGVSZXdyaXRlVXJsKGAvYnJhbmQvJHtub2RlLmVudGl0eUlkfSR7cG9zdGZpeH1gLCByZXF1ZXN0KTtcblxuLy8gICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJld3JpdGUodXJsKTtcbi8vICAgICAgIH1cblxuLy8gICAgICAgY2FzZSAnQ2F0ZWdvcnknOiB7XG4vLyAgICAgICAgIGNvbnN0IHVybCA9IGNyZWF0ZVJld3JpdGVVcmwoYC9jYXRlZ29yeS8ke25vZGUuZW50aXR5SWR9JHtwb3N0Zml4fWAsIHJlcXVlc3QpO1xuXG4vLyAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmV3cml0ZSh1cmwpO1xuLy8gICAgICAgfVxuXG4vLyAgICAgICBjYXNlICdQcm9kdWN0Jzoge1xuLy8gICAgICAgICBjb25zdCB1cmwgPSBjcmVhdGVSZXdyaXRlVXJsKGAvcHJvZHVjdC8ke25vZGUuZW50aXR5SWR9JHtwb3N0Zml4fWAsIHJlcXVlc3QpO1xuXG4vLyAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmV3cml0ZSh1cmwpO1xuLy8gICAgICAgfVxuXG4vLyAgICAgICBjYXNlICdDb250YWN0UGFnZSc6XG4vLyAgICAgICBjYXNlICdOb3JtYWxQYWdlJzoge1xuLy8gICAgICAgICBjb25zdCB7IHBhdGhuYW1lIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbi8vICAgICAgICAgY29uc3QgdXJsID0gY3JlYXRlUmV3cml0ZVVybChgL2JjLXBhZ2Uke3BhdGhuYW1lfWAsIHJlcXVlc3QpO1xuXG4vLyAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmV3cml0ZSh1cmwpO1xuLy8gICAgICAgfVxuXG4vLyAgICAgICBkZWZhdWx0OiB7XG4vLyAgICAgICAgIGNvbnN0IHsgcGF0aG5hbWUgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuXG4vLyAgICAgICAgIGlmIChwYXRobmFtZSA9PT0gJy8nICYmIHBvc3RmaXgpIHtcbi8vICAgICAgICAgICBjb25zdCB1cmwgPSBjcmVhdGVSZXdyaXRlVXJsKHBvc3RmaXgsIHJlcXVlc3QpO1xuXG4vLyAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZXdyaXRlKHVybCk7XG4vLyAgICAgICAgIH1cblxuLy8gICAgICAgICByZXR1cm4gbmV4dChyZXF1ZXN0LCBldmVudCk7XG4vLyAgICAgICB9XG4vLyAgICAgfVxuLy8gICB9O1xuLy8gfTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vIGltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xuLy8gaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbi8vIGltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuXG4vLyBpbXBvcnQgeyBnZXRTZXNzaW9uQ3VzdG9tZXJJZCB9IGZyb20gJ34vYXV0aCc7XG4vLyBpbXBvcnQgeyBTdG9yZWZyb250U3RhdHVzVHlwZSB9IGZyb20gJ34vY2xpZW50L2dlbmVyYXRlZC9ncmFwaHFsJztcbi8vIGltcG9ydCB7IGdldFJvdXRlIH0gZnJvbSAnfi9jbGllbnQvcXVlcmllcy9nZXQtcm91dGUnO1xuLy8gaW1wb3J0IHsgZ2V0U3RvcmVTdGF0dXMgfSBmcm9tICd+L2NsaWVudC9xdWVyaWVzL2dldC1zdG9yZS1zdGF0dXMnO1xuXG4vLyBpbXBvcnQgeyBrdiB9IGZyb20gJy4uL2xpYi9rdic7XG5cbi8vIGltcG9ydCB7IHR5cGUgTWlkZGxld2FyZUZhY3RvcnkgfSBmcm9tICcuL2NvbXBvc2UtbWlkZGxld2FyZXMnO1xuXG4vLyB0eXBlIE5vZGUgPSBBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIGdldFJvdXRlPj47XG5cbi8vIGludGVyZmFjZSBSb3V0ZUNhY2hlIHtcbi8vICAgbm9kZTogTm9kZTtcbi8vICAgZXhwaXJ5VGltZTogbnVtYmVyO1xuLy8gfVxuXG4vLyBjb25zdCBTVE9SRV9TVEFUVVNfS0VZID0gJ3N0b3JlU3RhdHVzJztcblxuLy8gaW50ZXJmYWNlIFN0b3JlZnJvbnRTdGF0dXNDYWNoZSB7XG4vLyAgIHN0YXR1czogU3RvcmVmcm9udFN0YXR1c1R5cGU7XG4vLyAgIGV4cGlyeVRpbWU6IG51bWJlcjtcbi8vIH1cblxuLy8gY29uc3QgY3JlYXRlUmV3cml0ZVVybCA9IChwYXRoOiBzdHJpbmcsIHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSA9PiB7XG4vLyAgIGNvbnN0IHVybCA9IG5ldyBVUkwocGF0aCwgcmVxdWVzdC51cmwpO1xuXG4vLyAgIHVybC5zZWFyY2ggPSByZXF1ZXN0Lm5leHRVcmwuc2VhcmNoO1xuXG4vLyAgIHJldHVybiB1cmw7XG4vLyB9O1xuXG4vLyBjb25zdCBTdG9yZWZyb250U3RhdHVzQ2FjaGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4vLyAgIHN0YXR1czogei5uYXRpdmVFbnVtKFN0b3JlZnJvbnRTdGF0dXNUeXBlKSxcbi8vICAgZXhwaXJ5VGltZTogei5udW1iZXIoKSxcbi8vIH0pO1xuXG4vLyBjb25zdCBSb3V0ZUNhY2hlU2NoZW1hID0gei5vYmplY3Qoe1xuLy8gICBub2RlOiB6Lm51bGxhYmxlKHoub2JqZWN0KHsgX190eXBlbmFtZTogei5zdHJpbmcoKSwgZW50aXR5SWQ6IHoub3B0aW9uYWwoei5udW1iZXIoKSkgfSkpLFxuLy8gICBleHBpcnlUaW1lOiB6Lm51bWJlcigpLFxuLy8gfSk7XG5cbi8vIGNvbnN0IGdldEV4aXN0aW5nUm91dGVJbmZvID0gYXN5bmMgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSA9PiB7XG4vLyAgIHRyeSB7XG4vLyAgICAgY29uc3QgcGF0aG5hbWUgPSByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWU7XG5cbi8vICAgICBjb25zdCBbcm91dGVDYWNoZSwgc3RhdHVzQ2FjaGVdID0gYXdhaXQga3YubWdldDxSb3V0ZUNhY2hlIHwgU3RvcmVmcm9udFN0YXR1c0NhY2hlPihcbi8vICAgICAgIHBhdGhuYW1lLFxuLy8gICAgICAgU1RPUkVfU1RBVFVTX0tFWSxcbi8vICAgICApO1xuXG4vLyAgICAgaWYgKHN0YXR1c0NhY2hlICYmIHN0YXR1c0NhY2hlLmV4cGlyeVRpbWUgPCBEYXRlLm5vdygpKSB7XG4vLyAgICAgICB2b2lkIGZldGNoKG5ldyBVUkwoYC9hcGkvcmV2YWxpZGF0ZS9zdG9yZS1zdGF0dXNgLCByZXF1ZXN0LnVybCksIHtcbi8vICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4vLyAgICAgICAgIGhlYWRlcnM6IHtcbi8vICAgICAgICAgICAneC1pbnRlcm5hbC10b2tlbic6IHByb2Nlc3MuZW52LkJJR0NPTU1FUkNFX0NVU1RPTUVSX0lNUEVSU09OQVRJT05fVE9LRU4gPz8gJycsXG4vLyAgICAgICAgIH0sXG4vLyAgICAgICB9KTtcbi8vICAgICB9XG5cbi8vICAgICBpZiAocm91dGVDYWNoZSAmJiByb3V0ZUNhY2hlLmV4cGlyeVRpbWUgPCBEYXRlLm5vdygpKSB7XG4vLyAgICAgICB2b2lkIGZldGNoKG5ldyBVUkwoYC9hcGkvcmV2YWxpZGF0ZS9yb3V0ZWAsIHJlcXVlc3QudXJsKSwge1xuLy8gICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbi8vICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwYXRobmFtZSB9KSxcbi8vICAgICAgICAgaGVhZGVyczoge1xuLy8gICAgICAgICAgICd4LWludGVybmFsLXRva2VuJzogcHJvY2Vzcy5lbnYuQklHQ09NTUVSQ0VfQ1VTVE9NRVJfSU1QRVJTT05BVElPTl9UT0tFTiA/PyAnJyxcbi8vICAgICAgICAgfSxcbi8vICAgICAgIH0pO1xuLy8gICAgIH1cblxuLy8gICAgIGNvbnN0IHBhcnNlZFJvdXRlID0gUm91dGVDYWNoZVNjaGVtYS5zYWZlUGFyc2Uocm91dGVDYWNoZSk7XG4vLyAgICAgY29uc3QgcGFyc2VkU3RhdHVzID0gU3RvcmVmcm9udFN0YXR1c0NhY2hlU2NoZW1hLnNhZmVQYXJzZShzdGF0dXNDYWNoZSk7XG5cbi8vICAgICByZXR1cm4ge1xuLy8gICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuLy8gICAgICAgbm9kZTogcGFyc2VkUm91dGUuc3VjY2VzcyA/IChwYXJzZWRSb3V0ZS5kYXRhLm5vZGUgYXMgTm9kZSkgOiB1bmRlZmluZWQsXG4vLyAgICAgICBzdGF0dXM6IHBhcnNlZFN0YXR1cy5zdWNjZXNzID8gcGFyc2VkU3RhdHVzLmRhdGEuc3RhdHVzIDogdW5kZWZpbmVkLFxuLy8gICAgIH07XG4vLyAgIH0gY2F0Y2ggKGVycm9yKSB7XG4vLyAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbi8vICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcblxuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICBub2RlOiB1bmRlZmluZWQsXG4vLyAgICAgICBzdGF0dXM6IHVuZGVmaW5lZCxcbi8vICAgICB9O1xuLy8gICB9XG4vLyB9O1xuXG4vLyBjb25zdCBzZXRLdlN0YXR1cyA9IGFzeW5jIChzdGF0dXM/OiBTdG9yZWZyb250U3RhdHVzVHlwZSB8IG51bGwpID0+IHtcbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCBleHBpcnlUaW1lID0gRGF0ZS5ub3coKSArIDEwMDAgKiA2MCAqIDU7IC8vIDUgbWludXRlcztcblxuLy8gICAgIGF3YWl0IGt2LnNldChTVE9SRV9TVEFUVVNfS0VZLCB7IHN0YXR1cywgZXhwaXJ5VGltZSB9KTtcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuLy8gICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuLy8gICB9XG4vLyB9O1xuXG4vLyBjb25zdCBzZXRLdlJvdXRlID0gYXN5bmMgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0LCBub2RlOiBOb2RlKSA9PiB7XG4vLyAgIHRyeSB7XG4vLyAgICAgY29uc3QgZXhwaXJ5VGltZSA9IERhdGUubm93KCkgKyAxMDAwICogNjAgKiAzMDsgLy8gMzAgbWludXRlcztcblxuLy8gICAgIGF3YWl0IGt2LnNldChyZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUsIHsgbm9kZSwgZXhwaXJ5VGltZSB9KTtcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuLy8gICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuLy8gICB9XG4vLyB9O1xuXG4vLyBjb25zdCBnZXRSb3V0ZUluZm8gPSBhc3luYyAocmVxdWVzdDogTmV4dFJlcXVlc3QpID0+IHtcbi8vICAgdHJ5IHtcbi8vICAgICBsZXQgeyBub2RlLCBzdGF0dXMgfSA9IGF3YWl0IGdldEV4aXN0aW5nUm91dGVJbmZvKHJlcXVlc3QpO1xuXG4vLyAgICAgaWYgKHN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7XG4vLyAgICAgICBjb25zdCBuZXdTdGF0dXMgPSBhd2FpdCBnZXRTdG9yZVN0YXR1cygpO1xuXG4vLyAgICAgICBpZiAobmV3U3RhdHVzKSB7XG4vLyAgICAgICAgIHN0YXR1cyA9IG5ld1N0YXR1cztcbi8vICAgICAgICAgYXdhaXQgc2V0S3ZTdGF0dXMoc3RhdHVzKTtcbi8vICAgICAgIH1cbi8vICAgICB9XG5cbi8vICAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4vLyAgICAgICBjb25zdCBuZXdOb2RlID0gYXdhaXQgZ2V0Um91dGUocmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lKTtcblxuLy8gICAgICAgbm9kZSA9IG5ld05vZGU7XG4vLyAgICAgICBhd2FpdCBzZXRLdlJvdXRlKHJlcXVlc3QsIG5vZGUpO1xuLy8gICAgIH1cblxuLy8gICAgIHJldHVybiB7IG5vZGUsIHN0YXR1cyB9O1xuLy8gICB9IGNhdGNoIChlcnJvcikge1xuLy8gICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4vLyAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG5cbi8vICAgICByZXR1cm4ge1xuLy8gICAgICAgbm9kZTogdW5kZWZpbmVkLFxuLy8gICAgICAgc3RhdHVzOiB1bmRlZmluZWQsXG4vLyAgICAgfTtcbi8vICAgfVxuLy8gfTtcblxuLy8gZXhwb3J0IGNvbnN0IHdpdGhDdXN0b21VcmxzOiBNaWRkbGV3YXJlRmFjdG9yeSA9IChuZXh0KSA9PiB7XG4vLyAgIHJldHVybiBhc3luYyAocmVxdWVzdCwgZXZlbnQpID0+IHtcbi8vICAgICBjb25zdCB7IG5vZGUsIHN0YXR1cyB9ID0gYXdhaXQgZ2V0Um91dGVJbmZvKHJlcXVlc3QpO1xuXG4vLyAgICAgaWYgKHN0YXR1cyA9PT0gJ01BSU5URU5BTkNFJykge1xuLy8gICAgICAgLy8gNTAzIHN0YXR1cyBjb2RlIG5vdCB3b3JraW5nIC0gaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzL2lzc3Vlcy81MDE1NVxuLy8gICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZXdyaXRlKG5ldyBVUkwoYC9tYWludGVuYW5jZWAsIHJlcXVlc3QudXJsKSwgeyBzdGF0dXM6IDUwMyB9KTtcbi8vICAgICB9XG5cbi8vICAgICBjb25zdCBjdXN0b21lcklkID0gYXdhaXQgZ2V0U2Vzc2lvbkN1c3RvbWVySWQoKTtcbi8vICAgICBjb25zdCBjYXJ0SWQgPSBjb29raWVzKCkuZ2V0KCdjYXJ0SWQnKTtcbi8vICAgICBsZXQgcG9zdGZpeCA9ICcnO1xuXG4vLyAgICAgaWYgKCFyZXF1ZXN0Lm5leHRVcmwuc2VhcmNoICYmICFjdXN0b21lcklkICYmICFjYXJ0SWQgJiYgcmVxdWVzdC5tZXRob2QgPT09ICdHRVQnKSB7XG4vLyAgICAgICBwb3N0Zml4ID0gJy9zdGF0aWMnO1xuLy8gICAgIH1cblxuXG5cblxuXG5cblxuXG5cblxuLy8gICAgIC8vIFJld3JpdGUgLyB0byAvbG9va2Jvb2sgLS0gQVJJWk9OXG4vLyAgICAgaWYgKHJlcXVlc3QubmV4dFVybC5wYXRobmFtZSA9PT0gJy8nKSB7XG4vLyAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJld3JpdGUobmV3IFVSTCgnL3BhZ2UnLCByZXF1ZXN0LnVybCkpO1xuLy8gICAgIH1cblxuXG5cblxuXG5cblxuICAgIFxuXG4vLyAgICAgc3dpdGNoIChub2RlPy5fX3R5cGVuYW1lKSB7XG4vLyAgICAgICBjYXNlICdCcmFuZCc6IHtcbi8vICAgICAgICAgY29uc3QgdXJsID0gY3JlYXRlUmV3cml0ZVVybChgL2JyYW5kLyR7bm9kZS5lbnRpdHlJZH0ke3Bvc3RmaXh9YCwgcmVxdWVzdCk7XG5cbi8vICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZXdyaXRlKHVybCk7XG4vLyAgICAgICB9XG5cbi8vICAgICAgIGNhc2UgJ0NhdGVnb3J5Jzoge1xuLy8gICAgICAgICBjb25zdCB1cmwgPSBjcmVhdGVSZXdyaXRlVXJsKGAvY2F0ZWdvcnkvJHtub2RlLmVudGl0eUlkfSR7cG9zdGZpeH1gLCByZXF1ZXN0KTtcblxuLy8gICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJld3JpdGUodXJsKTtcbi8vICAgICAgIH1cblxuLy8gICAgICAgY2FzZSAnUHJvZHVjdCc6IHtcbi8vICAgICAgICAgY29uc3QgdXJsID0gY3JlYXRlUmV3cml0ZVVybChgL3Byb2R1Y3QvJHtub2RlLmVudGl0eUlkfSR7cG9zdGZpeH1gLCByZXF1ZXN0KTtcblxuLy8gICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJld3JpdGUodXJsKTtcbi8vICAgICAgIH1cblxuLy8gICAgICAgY2FzZSAnQ29udGFjdFBhZ2UnOlxuLy8gICAgICAgY2FzZSAnTm9ybWFsUGFnZSc6IHtcbi8vICAgICAgICAgY29uc3QgeyBwYXRobmFtZSB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4vLyAgICAgICAgIGNvbnN0IHVybCA9IGNyZWF0ZVJld3JpdGVVcmwoYC9iYy1wYWdlJHtwYXRobmFtZX1gLCByZXF1ZXN0KTtcblxuLy8gICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJld3JpdGUodXJsKTtcbi8vICAgICAgIH1cblxuLy8gICAgICAgZGVmYXVsdDoge1xuLy8gICAgICAgICBjb25zdCB7IHBhdGhuYW1lIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcblxuLy8gICAgICAgICBpZiAocGF0aG5hbWUgPT09ICcvJyAmJiBwb3N0Zml4KSB7XG4vLyAgICAgICAgICAgY29uc3QgdXJsID0gY3JlYXRlUmV3cml0ZVVybChwb3N0Zml4LCByZXF1ZXN0KTtcblxuLy8gICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmV3cml0ZSh1cmwpO1xuLy8gICAgICAgICB9XG5cbi8vICAgICAgICAgcmV0dXJuIG5leHQocmVxdWVzdCwgZXZlbnQpO1xuLy8gICAgICAgfVxuLy8gICAgIH1cbi8vICAgfTtcbi8vIH07XG5cblxuXG5cblxuXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuaW1wb3J0IHsgZ2V0U2Vzc2lvbkN1c3RvbWVySWQgfSBmcm9tICd+L2F1dGgnO1xuaW1wb3J0IHsgU3RvcmVmcm9udFN0YXR1c1R5cGUgfSBmcm9tICd+L2NsaWVudC9nZW5lcmF0ZWQvZ3JhcGhxbCc7XG5pbXBvcnQgeyBnZXRSb3V0ZSB9IGZyb20gJ34vY2xpZW50L3F1ZXJpZXMvZ2V0LXJvdXRlJztcbmltcG9ydCB7IGdldFN0b3JlU3RhdHVzIH0gZnJvbSAnfi9jbGllbnQvcXVlcmllcy9nZXQtc3RvcmUtc3RhdHVzJztcblxuaW1wb3J0IHsga3YgfSBmcm9tICcuLi9saWIva3YnO1xuXG5pbXBvcnQgeyB0eXBlIE1pZGRsZXdhcmVGYWN0b3J5IH0gZnJvbSAnLi9jb21wb3NlLW1pZGRsZXdhcmVzJztcblxudHlwZSBOb2RlID0gQXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBnZXRSb3V0ZT4+O1xuXG5pbnRlcmZhY2UgUm91dGVDYWNoZSB7XG4gIG5vZGU6IE5vZGU7XG4gIGV4cGlyeVRpbWU6IG51bWJlcjtcbn1cblxuY29uc3QgU1RPUkVfU1RBVFVTX0tFWSA9ICdzdG9yZVN0YXR1cyc7XG5cbmludGVyZmFjZSBTdG9yZWZyb250U3RhdHVzQ2FjaGUge1xuICBzdGF0dXM6IFN0b3JlZnJvbnRTdGF0dXNUeXBlO1xuICBleHBpcnlUaW1lOiBudW1iZXI7XG59XG5cbmNvbnN0IGNyZWF0ZVJld3JpdGVVcmwgPSAocGF0aDogc3RyaW5nLCByZXF1ZXN0OiBOZXh0UmVxdWVzdCkgPT4ge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKHBhdGgsIHJlcXVlc3QudXJsKTtcbiAgdXJsLnNlYXJjaCA9IHJlcXVlc3QubmV4dFVybC5zZWFyY2g7XG4gIHJldHVybiB1cmw7XG59O1xuXG5jb25zdCBTdG9yZWZyb250U3RhdHVzQ2FjaGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHN0YXR1czogei5uYXRpdmVFbnVtKFN0b3JlZnJvbnRTdGF0dXNUeXBlKSxcbiAgZXhwaXJ5VGltZTogei5udW1iZXIoKSxcbn0pO1xuXG5jb25zdCBSb3V0ZUNhY2hlU2NoZW1hID0gei5vYmplY3Qoe1xuICBub2RlOiB6Lm51bGxhYmxlKHoub2JqZWN0KHsgX190eXBlbmFtZTogei5zdHJpbmcoKSwgZW50aXR5SWQ6IHoub3B0aW9uYWwoei5udW1iZXIoKSkgfSkpLFxuICBleHBpcnlUaW1lOiB6Lm51bWJlcigpLFxufSk7XG5cbmNvbnN0IGdldEV4aXN0aW5nUm91dGVJbmZvID0gYXN5bmMgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGF0aG5hbWUgPSByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWU7XG5cbiAgICBjb25zdCBbcm91dGVDYWNoZSwgc3RhdHVzQ2FjaGVdID0gYXdhaXQga3YubWdldDxSb3V0ZUNhY2hlIHwgU3RvcmVmcm9udFN0YXR1c0NhY2hlPihcbiAgICAgIHBhdGhuYW1lLFxuICAgICAgU1RPUkVfU1RBVFVTX0tFWSxcbiAgICApO1xuXG4gICAgaWYgKHN0YXR1c0NhY2hlICYmIHN0YXR1c0NhY2hlLmV4cGlyeVRpbWUgPCBEYXRlLm5vdygpKSB7XG4gICAgICB2b2lkIGZldGNoKG5ldyBVUkwoYC9hcGkvcmV2YWxpZGF0ZS9zdG9yZS1zdGF0dXNgLCByZXF1ZXN0LnVybCksIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAneC1pbnRlcm5hbC10b2tlbic6IHByb2Nlc3MuZW52LkJJR0NPTU1FUkNFX0NVU1RPTUVSX0lNUEVSU09OQVRJT05fVE9LRU4gPz8gJycsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocm91dGVDYWNoZSAmJiByb3V0ZUNhY2hlLmV4cGlyeVRpbWUgPCBEYXRlLm5vdygpKSB7XG4gICAgICB2b2lkIGZldGNoKG5ldyBVUkwoYC9hcGkvcmV2YWxpZGF0ZS9yb3V0ZWAsIHJlcXVlc3QudXJsKSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwYXRobmFtZSB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICd4LWludGVybmFsLXRva2VuJzogcHJvY2Vzcy5lbnYuQklHQ09NTUVSQ0VfQ1VTVE9NRVJfSU1QRVJTT05BVElPTl9UT0tFTiA/PyAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcnNlZFJvdXRlID0gUm91dGVDYWNoZVNjaGVtYS5zYWZlUGFyc2Uocm91dGVDYWNoZSk7XG4gICAgY29uc3QgcGFyc2VkU3RhdHVzID0gU3RvcmVmcm9udFN0YXR1c0NhY2hlU2NoZW1hLnNhZmVQYXJzZShzdGF0dXNDYWNoZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbm9kZTogcGFyc2VkUm91dGUuc3VjY2VzcyA/IChwYXJzZWRSb3V0ZS5kYXRhLm5vZGUgYXMgTm9kZSkgOiB1bmRlZmluZWQsXG4gICAgICBzdGF0dXM6IHBhcnNlZFN0YXR1cy5zdWNjZXNzID8gcGFyc2VkU3RhdHVzLmRhdGEuc3RhdHVzIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbm9kZTogdW5kZWZpbmVkLFxuICAgICAgc3RhdHVzOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxufTtcblxuY29uc3Qgc2V0S3ZTdGF0dXMgPSBhc3luYyAoc3RhdHVzPzogU3RvcmVmcm9udFN0YXR1c1R5cGUgfCBudWxsKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZXhwaXJ5VGltZSA9IERhdGUubm93KCkgKyAxMDAwICogNjAgKiA1OyAvLyA1IG1pbnV0ZXM7XG4gICAgYXdhaXQga3Yuc2V0KFNUT1JFX1NUQVRVU19LRVksIHsgc3RhdHVzLCBleHBpcnlUaW1lIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBzZXRLdlJvdXRlID0gYXN5bmMgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0LCBub2RlOiBOb2RlKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZXhwaXJ5VGltZSA9IERhdGUubm93KCkgKyAxMDAwICogNjAgKiAzMDsgLy8gMzAgbWludXRlcztcbiAgICBhd2FpdCBrdi5zZXQocmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lLCB7IG5vZGUsIGV4cGlyeVRpbWUgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbmNvbnN0IGdldFJvdXRlSW5mbyA9IGFzeW5jIChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkgPT4ge1xuICB0cnkge1xuICAgIGxldCB7IG5vZGUsIHN0YXR1cyB9ID0gYXdhaXQgZ2V0RXhpc3RpbmdSb3V0ZUluZm8ocmVxdWVzdCk7XG5cbiAgICBpZiAoc3RhdHVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IG5ld1N0YXR1cyA9IGF3YWl0IGdldFN0b3JlU3RhdHVzKCk7XG4gICAgICBpZiAobmV3U3RhdHVzKSB7XG4gICAgICAgIHN0YXR1cyA9IG5ld1N0YXR1cztcbiAgICAgICAgYXdhaXQgc2V0S3ZTdGF0dXMoc3RhdHVzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBuZXdOb2RlID0gYXdhaXQgZ2V0Um91dGUocmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lKTtcbiAgICAgIG5vZGUgPSBuZXdOb2RlO1xuICAgICAgYXdhaXQgc2V0S3ZSb3V0ZShyZXF1ZXN0LCBub2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBub2RlLCBzdGF0dXMgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZTogdW5kZWZpbmVkLFxuICAgICAgc3RhdHVzOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHdpdGhDdXN0b21VcmxzOiBNaWRkbGV3YXJlRmFjdG9yeSA9IChuZXh0KSA9PiB7XG4gIHJldHVybiBhc3luYyAocmVxdWVzdCwgZXZlbnQpID0+IHtcbiAgICBjb25zdCB7IG5vZGUsIHN0YXR1cyB9ID0gYXdhaXQgZ2V0Um91dGVJbmZvKHJlcXVlc3QpO1xuXG4gICAgaWYgKHN0YXR1cyA9PT0gJ01BSU5URU5BTkNFJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZXdyaXRlKG5ldyBVUkwoYC9tYWludGVuYW5jZWAsIHJlcXVlc3QudXJsKSwgeyBzdGF0dXM6IDUwMyB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBjdXN0b21lcklkID0gYXdhaXQgZ2V0U2Vzc2lvbkN1c3RvbWVySWQoKTtcbiAgICBjb25zdCBjYXJ0SWQgPSBjb29raWVzKCkuZ2V0KCdjYXJ0SWQnKTtcbiAgICBsZXQgcG9zdGZpeCA9ICcnO1xuXG4gICAgaWYgKCFyZXF1ZXN0Lm5leHRVcmwuc2VhcmNoICYmICFjdXN0b21lcklkICYmICFjYXJ0SWQgJiYgcmVxdWVzdC5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICBwb3N0Zml4ID0gJy9zdGF0aWMnO1xuICAgIH1cblxuICAgIC8vIFJld3JpdGUgLyB0byAvcGFnZVxuICAgIGlmIChyZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUgPT09ICcvJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZXdyaXRlKG5ldyBVUkwoJy9wYWdlJywgcmVxdWVzdC51cmwpKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKG5vZGU/Ll9fdHlwZW5hbWUpIHtcbiAgICAgIGNhc2UgJ0JyYW5kJzoge1xuICAgICAgICBjb25zdCB1cmwgPSBjcmVhdGVSZXdyaXRlVXJsKGAvYnJhbmQvJHtub2RlLmVudGl0eUlkfSR7cG9zdGZpeH1gLCByZXF1ZXN0KTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZXdyaXRlKHVybCk7XG4gICAgICB9XG4gICAgICBjYXNlICdDYXRlZ29yeSc6IHtcbiAgICAgICAgY29uc3QgdXJsID0gY3JlYXRlUmV3cml0ZVVybChgL2NhdGVnb3J5LyR7bm9kZS5lbnRpdHlJZH0ke3Bvc3RmaXh9YCwgcmVxdWVzdCk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmV3cml0ZSh1cmwpO1xuICAgICAgfVxuICAgICAgY2FzZSAnUHJvZHVjdCc6IHtcbiAgICAgICAgY29uc3QgdXJsID0gY3JlYXRlUmV3cml0ZVVybChgL3Byb2R1Y3QvJHtub2RlLmVudGl0eUlkfSR7cG9zdGZpeH1gLCByZXF1ZXN0KTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZXdyaXRlKHVybCk7XG4gICAgICB9XG4gICAgICBjYXNlICdDb250YWN0UGFnZSc6XG4gICAgICBjYXNlICdOb3JtYWxQYWdlJzoge1xuICAgICAgICBjb25zdCB7IHBhdGhuYW1lIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgICAgY29uc3QgdXJsID0gY3JlYXRlUmV3cml0ZVVybChgL2JjLXBhZ2Uke3BhdGhuYW1lfWAsIHJlcXVlc3QpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJld3JpdGUodXJsKTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgeyBwYXRobmFtZSB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgIGlmIChwYXRobmFtZSA9PT0gJy8nICYmIHBvc3RmaXgpIHtcbiAgICAgICAgICBjb25zdCB1cmwgPSBjcmVhdGVSZXdyaXRlVXJsKHBvc3RmaXgsIHJlcXVlc3QpO1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmV3cml0ZSh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KHJlcXVlc3QsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuIl0sIm5hbWVzIjpbImNvb2tpZXMiLCJOZXh0UmVzcG9uc2UiLCJ6IiwiZ2V0U2Vzc2lvbkN1c3RvbWVySWQiLCJTdG9yZWZyb250U3RhdHVzVHlwZSIsImdldFJvdXRlIiwiZ2V0U3RvcmVTdGF0dXMiLCJrdiIsIlNUT1JFX1NUQVRVU19LRVkiLCJjcmVhdGVSZXdyaXRlVXJsIiwicGF0aCIsInJlcXVlc3QiLCJ1cmwiLCJVUkwiLCJzZWFyY2giLCJuZXh0VXJsIiwiU3RvcmVmcm9udFN0YXR1c0NhY2hlU2NoZW1hIiwib2JqZWN0Iiwic3RhdHVzIiwibmF0aXZlRW51bSIsImV4cGlyeVRpbWUiLCJudW1iZXIiLCJSb3V0ZUNhY2hlU2NoZW1hIiwibm9kZSIsIm51bGxhYmxlIiwiX190eXBlbmFtZSIsInN0cmluZyIsImVudGl0eUlkIiwib3B0aW9uYWwiLCJnZXRFeGlzdGluZ1JvdXRlSW5mbyIsInBhdGhuYW1lIiwicm91dGVDYWNoZSIsInN0YXR1c0NhY2hlIiwibWdldCIsIkRhdGUiLCJub3ciLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiQklHQ09NTUVSQ0VfQ1VTVE9NRVJfSU1QRVJTT05BVElPTl9UT0tFTiIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2VkUm91dGUiLCJzYWZlUGFyc2UiLCJwYXJzZWRTdGF0dXMiLCJzdWNjZXNzIiwiZGF0YSIsInVuZGVmaW5lZCIsImVycm9yIiwiY29uc29sZSIsInNldEt2U3RhdHVzIiwic2V0Iiwic2V0S3ZSb3V0ZSIsImdldFJvdXRlSW5mbyIsIm5ld1N0YXR1cyIsIm5ld05vZGUiLCJ3aXRoQ3VzdG9tVXJscyIsIm5leHQiLCJldmVudCIsInJld3JpdGUiLCJjdXN0b21lcklkIiwiY2FydElkIiwiZ2V0IiwicG9zdGZpeCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./middlewares/with-custom-urls.ts\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/bailout-to-client-rendering.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/bailout-to-client-rendering.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bailoutToClientRendering: () => (/* binding */ bailoutToClientRendering)\n/* harmony export */ });\n/* harmony import */ var _shared_lib_lazy_dynamic_bailout_to_csr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/lib/lazy-dynamic/bailout-to-csr */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/lazy-dynamic/bailout-to-csr.js\");\n/* harmony import */ var _static_generation_async_storage_external__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./static-generation-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/client/components/static-generation-async-storage.external.js\");\n\n\nfunction bailoutToClientRendering(reason) {\n    const staticGenerationStore = _static_generation_async_storage_external__WEBPACK_IMPORTED_MODULE_1__.staticGenerationAsyncStorage.getStore();\n    if (staticGenerationStore == null ? void 0 : staticGenerationStore.forceStatic) return;\n    if (staticGenerationStore == null ? void 0 : staticGenerationStore.isStaticGeneration) throw new _shared_lib_lazy_dynamic_bailout_to_csr__WEBPACK_IMPORTED_MODULE_0__.BailoutToCSRError(reason);\n} //# sourceMappingURL=bailout-to-client-rendering.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvYmFpbG91dC10by1jbGllbnQtcmVuZGVyaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRjtBQUNTO0FBQ25GLFNBQVNFLHlCQUF5QkMsTUFBTTtJQUMzQyxNQUFNQyx3QkFBd0JILG1HQUE0QkEsQ0FBQ0ksUUFBUTtJQUNuRSxJQUFJRCx5QkFBeUIsT0FBTyxLQUFLLElBQUlBLHNCQUFzQkUsV0FBVyxFQUFFO0lBQ2hGLElBQUlGLHlCQUF5QixPQUFPLEtBQUssSUFBSUEsc0JBQXNCRyxrQkFBa0IsRUFBRSxNQUFNLElBQUlQLHNGQUFpQkEsQ0FBQ0c7QUFDdkgsRUFFQSx1REFBdUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvYmFpbG91dC10by1jbGllbnQtcmVuZGVyaW5nLmpzP2JmNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFpbG91dFRvQ1NSRXJyb3IgfSBmcm9tIFwiLi4vLi4vc2hhcmVkL2xpYi9sYXp5LWR5bmFtaWMvYmFpbG91dC10by1jc3JcIjtcbmltcG9ydCB7IHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UgfSBmcm9tIFwiLi9zdGF0aWMtZ2VuZXJhdGlvbi1hc3luYy1zdG9yYWdlLmV4dGVybmFsXCI7XG5leHBvcnQgZnVuY3Rpb24gYmFpbG91dFRvQ2xpZW50UmVuZGVyaW5nKHJlYXNvbikge1xuICAgIGNvbnN0IHN0YXRpY0dlbmVyYXRpb25TdG9yZSA9IHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UuZ2V0U3RvcmUoKTtcbiAgICBpZiAoc3RhdGljR2VuZXJhdGlvblN0b3JlID09IG51bGwgPyB2b2lkIDAgOiBzdGF0aWNHZW5lcmF0aW9uU3RvcmUuZm9yY2VTdGF0aWMpIHJldHVybjtcbiAgICBpZiAoc3RhdGljR2VuZXJhdGlvblN0b3JlID09IG51bGwgPyB2b2lkIDAgOiBzdGF0aWNHZW5lcmF0aW9uU3RvcmUuaXNTdGF0aWNHZW5lcmF0aW9uKSB0aHJvdyBuZXcgQmFpbG91dFRvQ1NSRXJyb3IocmVhc29uKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFpbG91dC10by1jbGllbnQtcmVuZGVyaW5nLmpzLm1hcCJdLCJuYW1lcyI6WyJCYWlsb3V0VG9DU1JFcnJvciIsInN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UiLCJiYWlsb3V0VG9DbGllbnRSZW5kZXJpbmciLCJyZWFzb24iLCJzdGF0aWNHZW5lcmF0aW9uU3RvcmUiLCJnZXRTdG9yZSIsImZvcmNlU3RhdGljIiwiaXNTdGF0aWNHZW5lcmF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/bailout-to-client-rendering.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/headers.js":
/*!*****************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/headers.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cookies: () => (/* binding */ cookies),\n/* harmony export */   draftMode: () => (/* binding */ draftMode),\n/* harmony export */   headers: () => (/* binding */ headers)\n/* harmony export */ });\n/* harmony import */ var _server_web_spec_extension_adapters_request_cookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../server/web/spec-extension/adapters/request-cookies */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/request-cookies.js\");\n/* harmony import */ var _server_web_spec_extension_adapters_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../server/web/spec-extension/adapters/headers */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/adapters/headers.js\");\n/* harmony import */ var _server_web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../server/web/spec-extension/cookies */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/cookies.js\");\n/* harmony import */ var _request_async_storage_external__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./request-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/client/components/request-async-storage.external.js\");\n/* harmony import */ var _action_async_storage_external__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./action-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/client/components/action-async-storage.external.js\");\n/* harmony import */ var _static_generation_bailout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./static-generation-bailout */ \"(middleware)/./node_modules/next/dist/esm/client/components/static-generation-bailout.js\");\n/* harmony import */ var _draft_mode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./draft-mode */ \"(middleware)/./node_modules/next/dist/esm/client/components/draft-mode.js\");\n\n\n\n\n\n\n\nfunction headers() {\n    if ((0,_static_generation_bailout__WEBPACK_IMPORTED_MODULE_5__.staticGenerationBailout)(\"headers\", {\n        link: \"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\"\n    })) {\n        return _server_web_spec_extension_adapters_headers__WEBPACK_IMPORTED_MODULE_1__.HeadersAdapter.seal(new Headers({}));\n    }\n    const requestStore = _request_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.requestAsyncStorage.getStore();\n    if (!requestStore) {\n        throw new Error(\"Invariant: headers() expects to have requestAsyncStorage, none available.\");\n    }\n    return requestStore.headers;\n}\nfunction cookies() {\n    if ((0,_static_generation_bailout__WEBPACK_IMPORTED_MODULE_5__.staticGenerationBailout)(\"cookies\", {\n        link: \"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\"\n    })) {\n        return _server_web_spec_extension_adapters_request_cookies__WEBPACK_IMPORTED_MODULE_0__.RequestCookiesAdapter.seal(new _server_web_spec_extension_cookies__WEBPACK_IMPORTED_MODULE_2__.RequestCookies(new Headers({})));\n    }\n    const requestStore = _request_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.requestAsyncStorage.getStore();\n    if (!requestStore) {\n        throw new Error(\"Invariant: cookies() expects to have requestAsyncStorage, none available.\");\n    }\n    const asyncActionStore = _action_async_storage_external__WEBPACK_IMPORTED_MODULE_4__.actionAsyncStorage.getStore();\n    if (asyncActionStore && (asyncActionStore.isAction || asyncActionStore.isAppRoute)) {\n        // We can't conditionally return different types here based on the context.\n        // To avoid confusion, we always return the readonly type here.\n        return requestStore.mutableCookies;\n    }\n    return requestStore.cookies;\n}\nfunction draftMode() {\n    const requestStore = _request_async_storage_external__WEBPACK_IMPORTED_MODULE_3__.requestAsyncStorage.getStore();\n    if (!requestStore) {\n        throw new Error(\"Invariant: draftMode() expects to have requestAsyncStorage, none available.\");\n    }\n    return new _draft_mode__WEBPACK_IMPORTED_MODULE_6__.DraftMode(requestStore.draftMode);\n} //# sourceMappingURL=headers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvaGVhZGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWlHO0FBQ2Y7QUFDVDtBQUNGO0FBQ0Y7QUFDQztBQUM3QjtBQUNsQyxTQUFTTztJQUNaLElBQUlGLG1GQUF1QkEsQ0FBQyxXQUFXO1FBQ25DRyxNQUFNO0lBQ1YsSUFBSTtRQUNBLE9BQU9QLHVGQUFjQSxDQUFDUSxJQUFJLENBQUMsSUFBSUMsUUFBUSxDQUFDO0lBQzVDO0lBQ0EsTUFBTUMsZUFBZVIsZ0ZBQW1CQSxDQUFDUyxRQUFRO0lBQ2pELElBQUksQ0FBQ0QsY0FBYztRQUNmLE1BQU0sSUFBSUUsTUFBTTtJQUNwQjtJQUNBLE9BQU9GLGFBQWFKLE9BQU87QUFDL0I7QUFDTyxTQUFTTztJQUNaLElBQUlULG1GQUF1QkEsQ0FBQyxXQUFXO1FBQ25DRyxNQUFNO0lBQ1YsSUFBSTtRQUNBLE9BQU9SLHNHQUFxQkEsQ0FBQ1MsSUFBSSxDQUFDLElBQUlQLDhFQUFjQSxDQUFDLElBQUlRLFFBQVEsQ0FBQztJQUN0RTtJQUNBLE1BQU1DLGVBQWVSLGdGQUFtQkEsQ0FBQ1MsUUFBUTtJQUNqRCxJQUFJLENBQUNELGNBQWM7UUFDZixNQUFNLElBQUlFLE1BQU07SUFDcEI7SUFDQSxNQUFNRSxtQkFBbUJYLDhFQUFrQkEsQ0FBQ1EsUUFBUTtJQUNwRCxJQUFJRyxvQkFBcUJBLENBQUFBLGlCQUFpQkMsUUFBUSxJQUFJRCxpQkFBaUJFLFVBQVUsR0FBRztRQUNoRiwyRUFBMkU7UUFDM0UsK0RBQStEO1FBQy9ELE9BQU9OLGFBQWFPLGNBQWM7SUFDdEM7SUFDQSxPQUFPUCxhQUFhRyxPQUFPO0FBQy9CO0FBQ08sU0FBU0s7SUFDWixNQUFNUixlQUFlUixnRkFBbUJBLENBQUNTLFFBQVE7SUFDakQsSUFBSSxDQUFDRCxjQUFjO1FBQ2YsTUFBTSxJQUFJRSxNQUFNO0lBQ3BCO0lBQ0EsT0FBTyxJQUFJUCxrREFBU0EsQ0FBQ0ssYUFBYVEsU0FBUztBQUMvQyxFQUVBLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2VzbS9jbGllbnQvY29tcG9uZW50cy9oZWFkZXJzLmpzPzU3YjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdENvb2tpZXNBZGFwdGVyIH0gZnJvbSBcIi4uLy4uL3NlcnZlci93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvcmVxdWVzdC1jb29raWVzXCI7XG5pbXBvcnQgeyBIZWFkZXJzQWRhcHRlciB9IGZyb20gXCIuLi8uLi9zZXJ2ZXIvd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL2hlYWRlcnNcIjtcbmltcG9ydCB7IFJlcXVlc3RDb29raWVzIH0gZnJvbSBcIi4uLy4uL3NlcnZlci93ZWIvc3BlYy1leHRlbnNpb24vY29va2llc1wiO1xuaW1wb3J0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSB9IGZyb20gXCIuL3JlcXVlc3QtYXN5bmMtc3RvcmFnZS5leHRlcm5hbFwiO1xuaW1wb3J0IHsgYWN0aW9uQXN5bmNTdG9yYWdlIH0gZnJvbSBcIi4vYWN0aW9uLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gZnJvbSBcIi4vc3RhdGljLWdlbmVyYXRpb24tYmFpbG91dFwiO1xuaW1wb3J0IHsgRHJhZnRNb2RlIH0gZnJvbSBcIi4vZHJhZnQtbW9kZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIGhlYWRlcnMoKSB7XG4gICAgaWYgKHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0KFwiaGVhZGVyc1wiLCB7XG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcmVuZGVyaW5nL3N0YXRpYy1hbmQtZHluYW1pYyNkeW5hbWljLXJlbmRlcmluZ1wiXG4gICAgfSkpIHtcbiAgICAgICAgcmV0dXJuIEhlYWRlcnNBZGFwdGVyLnNlYWwobmV3IEhlYWRlcnMoe30pKTtcbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdFN0b3JlID0gcmVxdWVzdEFzeW5jU3RvcmFnZS5nZXRTdG9yZSgpO1xuICAgIGlmICghcmVxdWVzdFN0b3JlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFyaWFudDogaGVhZGVycygpIGV4cGVjdHMgdG8gaGF2ZSByZXF1ZXN0QXN5bmNTdG9yYWdlLCBub25lIGF2YWlsYWJsZS5cIik7XG4gICAgfVxuICAgIHJldHVybiByZXF1ZXN0U3RvcmUuaGVhZGVycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb29raWVzKCkge1xuICAgIGlmIChzdGF0aWNHZW5lcmF0aW9uQmFpbG91dChcImNvb2tpZXNcIiwge1xuICAgICAgICBsaW5rOiBcImh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JlbmRlcmluZy9zdGF0aWMtYW5kLWR5bmFtaWMjZHluYW1pYy1yZW5kZXJpbmdcIlxuICAgIH0pKSB7XG4gICAgICAgIHJldHVybiBSZXF1ZXN0Q29va2llc0FkYXB0ZXIuc2VhbChuZXcgUmVxdWVzdENvb2tpZXMobmV3IEhlYWRlcnMoe30pKSk7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVlc3RTdG9yZSA9IHJlcXVlc3RBc3luY1N0b3JhZ2UuZ2V0U3RvcmUoKTtcbiAgICBpZiAoIXJlcXVlc3RTdG9yZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhcmlhbnQ6IGNvb2tpZXMoKSBleHBlY3RzIHRvIGhhdmUgcmVxdWVzdEFzeW5jU3RvcmFnZSwgbm9uZSBhdmFpbGFibGUuXCIpO1xuICAgIH1cbiAgICBjb25zdCBhc3luY0FjdGlvblN0b3JlID0gYWN0aW9uQXN5bmNTdG9yYWdlLmdldFN0b3JlKCk7XG4gICAgaWYgKGFzeW5jQWN0aW9uU3RvcmUgJiYgKGFzeW5jQWN0aW9uU3RvcmUuaXNBY3Rpb24gfHwgYXN5bmNBY3Rpb25TdG9yZS5pc0FwcFJvdXRlKSkge1xuICAgICAgICAvLyBXZSBjYW4ndCBjb25kaXRpb25hbGx5IHJldHVybiBkaWZmZXJlbnQgdHlwZXMgaGVyZSBiYXNlZCBvbiB0aGUgY29udGV4dC5cbiAgICAgICAgLy8gVG8gYXZvaWQgY29uZnVzaW9uLCB3ZSBhbHdheXMgcmV0dXJuIHRoZSByZWFkb25seSB0eXBlIGhlcmUuXG4gICAgICAgIHJldHVybiByZXF1ZXN0U3RvcmUubXV0YWJsZUNvb2tpZXM7XG4gICAgfVxuICAgIHJldHVybiByZXF1ZXN0U3RvcmUuY29va2llcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBkcmFmdE1vZGUoKSB7XG4gICAgY29uc3QgcmVxdWVzdFN0b3JlID0gcmVxdWVzdEFzeW5jU3RvcmFnZS5nZXRTdG9yZSgpO1xuICAgIGlmICghcmVxdWVzdFN0b3JlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFyaWFudDogZHJhZnRNb2RlKCkgZXhwZWN0cyB0byBoYXZlIHJlcXVlc3RBc3luY1N0b3JhZ2UsIG5vbmUgYXZhaWxhYmxlLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEcmFmdE1vZGUocmVxdWVzdFN0b3JlLmRyYWZ0TW9kZSk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlYWRlcnMuanMubWFwIl0sIm5hbWVzIjpbIlJlcXVlc3RDb29raWVzQWRhcHRlciIsIkhlYWRlcnNBZGFwdGVyIiwiUmVxdWVzdENvb2tpZXMiLCJyZXF1ZXN0QXN5bmNTdG9yYWdlIiwiYWN0aW9uQXN5bmNTdG9yYWdlIiwic3RhdGljR2VuZXJhdGlvbkJhaWxvdXQiLCJEcmFmdE1vZGUiLCJoZWFkZXJzIiwibGluayIsInNlYWwiLCJIZWFkZXJzIiwicmVxdWVzdFN0b3JlIiwiZ2V0U3RvcmUiLCJFcnJvciIsImNvb2tpZXMiLCJhc3luY0FjdGlvblN0b3JlIiwiaXNBY3Rpb24iLCJpc0FwcFJvdXRlIiwibXV0YWJsZUNvb2tpZXMiLCJkcmFmdE1vZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/headers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/redirect.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/redirect.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RedirectType: () => (/* binding */ RedirectType),\n/* harmony export */   getRedirectError: () => (/* binding */ getRedirectError),\n/* harmony export */   getRedirectStatusCodeFromError: () => (/* binding */ getRedirectStatusCodeFromError),\n/* harmony export */   getRedirectTypeFromError: () => (/* binding */ getRedirectTypeFromError),\n/* harmony export */   getURLFromRedirectError: () => (/* binding */ getURLFromRedirectError),\n/* harmony export */   isRedirectError: () => (/* binding */ isRedirectError),\n/* harmony export */   permanentRedirect: () => (/* binding */ permanentRedirect),\n/* harmony export */   redirect: () => (/* binding */ redirect)\n/* harmony export */ });\n/* harmony import */ var _request_async_storage_external__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./request-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/client/components/request-async-storage.external.js\");\n/* harmony import */ var _action_async_storage_external__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./action-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/client/components/action-async-storage.external.js\");\n/* harmony import */ var _redirect_status_code__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./redirect-status-code */ \"(middleware)/./node_modules/next/dist/esm/client/components/redirect-status-code.js\");\n\n\n\nconst REDIRECT_ERROR_CODE = \"NEXT_REDIRECT\";\nvar RedirectType;\n(function(RedirectType) {\n    RedirectType[\"push\"] = \"push\";\n    RedirectType[\"replace\"] = \"replace\";\n})(RedirectType || (RedirectType = {}));\nfunction getRedirectError(url, type, statusCode) {\n    if (statusCode === void 0) statusCode = _redirect_status_code__WEBPACK_IMPORTED_MODULE_2__.RedirectStatusCode.TemporaryRedirect;\n    const error = new Error(REDIRECT_ERROR_CODE);\n    error.digest = REDIRECT_ERROR_CODE + \";\" + type + \";\" + url + \";\" + statusCode + \";\";\n    const requestStore = _request_async_storage_external__WEBPACK_IMPORTED_MODULE_0__.requestAsyncStorage.getStore();\n    if (requestStore) {\n        error.mutableCookies = requestStore.mutableCookies;\n    }\n    return error;\n}\n/**\n * When used in a streaming context, this will insert a meta tag to\n * redirect the user to the target page. When used in a custom app route, it\n * will serve a 307/303 to the caller.\n *\n * @param url the url to redirect to\n */ function redirect(url, type) {\n    if (type === void 0) type = \"replace\";\n    const actionStore = _action_async_storage_external__WEBPACK_IMPORTED_MODULE_1__.actionAsyncStorage.getStore();\n    throw getRedirectError(url, type, // as we don't want the POST request to follow the redirect,\n    // as it could result in erroneous re-submissions.\n    (actionStore == null ? void 0 : actionStore.isAction) ? _redirect_status_code__WEBPACK_IMPORTED_MODULE_2__.RedirectStatusCode.SeeOther : _redirect_status_code__WEBPACK_IMPORTED_MODULE_2__.RedirectStatusCode.TemporaryRedirect);\n}\n/**\n * When used in a streaming context, this will insert a meta tag to\n * redirect the user to the target page. When used in a custom app route, it\n * will serve a 308/303 to the caller.\n *\n * @param url the url to redirect to\n */ function permanentRedirect(url, type) {\n    if (type === void 0) type = \"replace\";\n    const actionStore = _action_async_storage_external__WEBPACK_IMPORTED_MODULE_1__.actionAsyncStorage.getStore();\n    throw getRedirectError(url, type, // as we don't want the POST request to follow the redirect,\n    // as it could result in erroneous re-submissions.\n    (actionStore == null ? void 0 : actionStore.isAction) ? _redirect_status_code__WEBPACK_IMPORTED_MODULE_2__.RedirectStatusCode.SeeOther : _redirect_status_code__WEBPACK_IMPORTED_MODULE_2__.RedirectStatusCode.PermanentRedirect);\n}\n/**\n * Checks an error to determine if it's an error generated by the\n * `redirect(url)` helper.\n *\n * @param error the error that may reference a redirect error\n * @returns true if the error is a redirect error\n */ function isRedirectError(error) {\n    if (typeof error !== \"object\" || error === null || !(\"digest\" in error) || typeof error.digest !== \"string\") {\n        return false;\n    }\n    const [errorCode, type, destination, status] = error.digest.split(\";\", 4);\n    const statusCode = Number(status);\n    return errorCode === REDIRECT_ERROR_CODE && (type === \"replace\" || type === \"push\") && typeof destination === \"string\" && !isNaN(statusCode) && statusCode in _redirect_status_code__WEBPACK_IMPORTED_MODULE_2__.RedirectStatusCode;\n}\nfunction getURLFromRedirectError(error) {\n    if (!isRedirectError(error)) return null;\n    // Slices off the beginning of the digest that contains the code and the\n    // separating ';'.\n    return error.digest.split(\";\", 3)[2];\n}\nfunction getRedirectTypeFromError(error) {\n    if (!isRedirectError(error)) {\n        throw new Error(\"Not a redirect error\");\n    }\n    return error.digest.split(\";\", 2)[1];\n}\nfunction getRedirectStatusCodeFromError(error) {\n    if (!isRedirectError(error)) {\n        throw new Error(\"Not a redirect error\");\n    }\n    return Number(error.digest.split(\";\", 4)[3]);\n} //# sourceMappingURL=redirect.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvcmVkaXJlY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBdUU7QUFDRjtBQUNUO0FBQzVELE1BQU1HLHNCQUFzQjtBQUNyQixJQUFJQyxhQUFhO0FBQ3ZCLFVBQVNBLFlBQVk7SUFDbEJBLFlBQVksQ0FBQyxPQUFPLEdBQUc7SUFDdkJBLFlBQVksQ0FBQyxVQUFVLEdBQUc7QUFDOUIsR0FBR0EsZ0JBQWlCQSxDQUFBQSxlQUFlLENBQUM7QUFDN0IsU0FBU0MsaUJBQWlCQyxHQUFHLEVBQUVDLElBQUksRUFBRUMsVUFBVTtJQUNsRCxJQUFJQSxlQUFlLEtBQUssR0FBR0EsYUFBYU4scUVBQWtCQSxDQUFDTyxpQkFBaUI7SUFDNUUsTUFBTUMsUUFBUSxJQUFJQyxNQUFNUjtJQUN4Qk8sTUFBTUUsTUFBTSxHQUFHVCxzQkFBc0IsTUFBTUksT0FBTyxNQUFNRCxNQUFNLE1BQU1FLGFBQWE7SUFDakYsTUFBTUssZUFBZWIsZ0ZBQW1CQSxDQUFDYyxRQUFRO0lBQ2pELElBQUlELGNBQWM7UUFDZEgsTUFBTUssY0FBYyxHQUFHRixhQUFhRSxjQUFjO0lBQ3REO0lBQ0EsT0FBT0w7QUFDWDtBQUNBOzs7Ozs7Q0FNQyxHQUFVLFNBQVNNLFNBQVNWLEdBQUcsRUFBRUMsSUFBSTtJQUNsQyxJQUFJQSxTQUFTLEtBQUssR0FBR0EsT0FBTztJQUM1QixNQUFNVSxjQUFjaEIsOEVBQWtCQSxDQUFDYSxRQUFRO0lBQy9DLE1BQU1ULGlCQUFpQkMsS0FBS0MsTUFHNUIsNERBRjREO0lBQzVELGtEQUFrRDtJQUNqRFUsQ0FBQUEsZUFBZSxPQUFPLEtBQUssSUFBSUEsWUFBWUMsUUFBUSxJQUFJaEIscUVBQWtCQSxDQUFDaUIsUUFBUSxHQUFHakIscUVBQWtCQSxDQUFDTyxpQkFBaUI7QUFDOUg7QUFDQTs7Ozs7O0NBTUMsR0FBVSxTQUFTVyxrQkFBa0JkLEdBQUcsRUFBRUMsSUFBSTtJQUMzQyxJQUFJQSxTQUFTLEtBQUssR0FBR0EsT0FBTztJQUM1QixNQUFNVSxjQUFjaEIsOEVBQWtCQSxDQUFDYSxRQUFRO0lBQy9DLE1BQU1ULGlCQUFpQkMsS0FBS0MsTUFHNUIsNERBRjREO0lBQzVELGtEQUFrRDtJQUNqRFUsQ0FBQUEsZUFBZSxPQUFPLEtBQUssSUFBSUEsWUFBWUMsUUFBUSxJQUFJaEIscUVBQWtCQSxDQUFDaUIsUUFBUSxHQUFHakIscUVBQWtCQSxDQUFDbUIsaUJBQWlCO0FBQzlIO0FBQ0E7Ozs7OztDQU1DLEdBQVUsU0FBU0MsZ0JBQWdCWixLQUFLO0lBQ3JDLElBQUksT0FBT0EsVUFBVSxZQUFZQSxVQUFVLFFBQVEsQ0FBRSxhQUFZQSxLQUFJLEtBQU0sT0FBT0EsTUFBTUUsTUFBTSxLQUFLLFVBQVU7UUFDekcsT0FBTztJQUNYO0lBQ0EsTUFBTSxDQUFDVyxXQUFXaEIsTUFBTWlCLGFBQWFDLE9BQU8sR0FBR2YsTUFBTUUsTUFBTSxDQUFDYyxLQUFLLENBQUMsS0FBSztJQUN2RSxNQUFNbEIsYUFBYW1CLE9BQU9GO0lBQzFCLE9BQU9GLGNBQWNwQix1QkFBd0JJLENBQUFBLFNBQVMsYUFBYUEsU0FBUyxNQUFLLEtBQU0sT0FBT2lCLGdCQUFnQixZQUFZLENBQUNJLE1BQU1wQixlQUFlQSxjQUFjTixxRUFBa0JBO0FBQ3BMO0FBQ08sU0FBUzJCLHdCQUF3Qm5CLEtBQUs7SUFDekMsSUFBSSxDQUFDWSxnQkFBZ0JaLFFBQVEsT0FBTztJQUNwQyx3RUFBd0U7SUFDeEUsa0JBQWtCO0lBQ2xCLE9BQU9BLE1BQU1FLE1BQU0sQ0FBQ2MsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUU7QUFDeEM7QUFDTyxTQUFTSSx5QkFBeUJwQixLQUFLO0lBQzFDLElBQUksQ0FBQ1ksZ0JBQWdCWixRQUFRO1FBQ3pCLE1BQU0sSUFBSUMsTUFBTTtJQUNwQjtJQUNBLE9BQU9ELE1BQU1FLE1BQU0sQ0FBQ2MsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUU7QUFDeEM7QUFDTyxTQUFTSywrQkFBK0JyQixLQUFLO0lBQ2hELElBQUksQ0FBQ1ksZ0JBQWdCWixRQUFRO1FBQ3pCLE1BQU0sSUFBSUMsTUFBTTtJQUNwQjtJQUNBLE9BQU9nQixPQUFPakIsTUFBTUUsTUFBTSxDQUFDYyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRTtBQUMvQyxFQUVBLG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2VzbS9jbGllbnQvY29tcG9uZW50cy9yZWRpcmVjdC5qcz9lMTQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UgfSBmcm9tIFwiLi9yZXF1ZXN0LWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IGFjdGlvbkFzeW5jU3RvcmFnZSB9IGZyb20gXCIuL2FjdGlvbi1hc3luYy1zdG9yYWdlLmV4dGVybmFsXCI7XG5pbXBvcnQgeyBSZWRpcmVjdFN0YXR1c0NvZGUgfSBmcm9tIFwiLi9yZWRpcmVjdC1zdGF0dXMtY29kZVwiO1xuY29uc3QgUkVESVJFQ1RfRVJST1JfQ09ERSA9IFwiTkVYVF9SRURJUkVDVFwiO1xuZXhwb3J0IHZhciBSZWRpcmVjdFR5cGU7XG4oZnVuY3Rpb24oUmVkaXJlY3RUeXBlKSB7XG4gICAgUmVkaXJlY3RUeXBlW1wicHVzaFwiXSA9IFwicHVzaFwiO1xuICAgIFJlZGlyZWN0VHlwZVtcInJlcGxhY2VcIl0gPSBcInJlcGxhY2VcIjtcbn0pKFJlZGlyZWN0VHlwZSB8fCAoUmVkaXJlY3RUeXBlID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWRpcmVjdEVycm9yKHVybCwgdHlwZSwgc3RhdHVzQ29kZSkge1xuICAgIGlmIChzdGF0dXNDb2RlID09PSB2b2lkIDApIHN0YXR1c0NvZGUgPSBSZWRpcmVjdFN0YXR1c0NvZGUuVGVtcG9yYXJ5UmVkaXJlY3Q7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoUkVESVJFQ1RfRVJST1JfQ09ERSk7XG4gICAgZXJyb3IuZGlnZXN0ID0gUkVESVJFQ1RfRVJST1JfQ09ERSArIFwiO1wiICsgdHlwZSArIFwiO1wiICsgdXJsICsgXCI7XCIgKyBzdGF0dXNDb2RlICsgXCI7XCI7XG4gICAgY29uc3QgcmVxdWVzdFN0b3JlID0gcmVxdWVzdEFzeW5jU3RvcmFnZS5nZXRTdG9yZSgpO1xuICAgIGlmIChyZXF1ZXN0U3RvcmUpIHtcbiAgICAgICAgZXJyb3IubXV0YWJsZUNvb2tpZXMgPSByZXF1ZXN0U3RvcmUubXV0YWJsZUNvb2tpZXM7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbn1cbi8qKlxuICogV2hlbiB1c2VkIGluIGEgc3RyZWFtaW5nIGNvbnRleHQsIHRoaXMgd2lsbCBpbnNlcnQgYSBtZXRhIHRhZyB0b1xuICogcmVkaXJlY3QgdGhlIHVzZXIgdG8gdGhlIHRhcmdldCBwYWdlLiBXaGVuIHVzZWQgaW4gYSBjdXN0b20gYXBwIHJvdXRlLCBpdFxuICogd2lsbCBzZXJ2ZSBhIDMwNy8zMDMgdG8gdGhlIGNhbGxlci5cbiAqXG4gKiBAcGFyYW0gdXJsIHRoZSB1cmwgdG8gcmVkaXJlY3QgdG9cbiAqLyBleHBvcnQgZnVuY3Rpb24gcmVkaXJlY3QodXJsLCB0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgdHlwZSA9IFwicmVwbGFjZVwiO1xuICAgIGNvbnN0IGFjdGlvblN0b3JlID0gYWN0aW9uQXN5bmNTdG9yYWdlLmdldFN0b3JlKCk7XG4gICAgdGhyb3cgZ2V0UmVkaXJlY3RFcnJvcih1cmwsIHR5cGUsIC8vIElmIHdlJ3JlIGluIGFuIGFjdGlvbiwgd2Ugd2FudCB0byB1c2UgYSAzMDMgcmVkaXJlY3RcbiAgICAvLyBhcyB3ZSBkb24ndCB3YW50IHRoZSBQT1NUIHJlcXVlc3QgdG8gZm9sbG93IHRoZSByZWRpcmVjdCxcbiAgICAvLyBhcyBpdCBjb3VsZCByZXN1bHQgaW4gZXJyb25lb3VzIHJlLXN1Ym1pc3Npb25zLlxuICAgIChhY3Rpb25TdG9yZSA9PSBudWxsID8gdm9pZCAwIDogYWN0aW9uU3RvcmUuaXNBY3Rpb24pID8gUmVkaXJlY3RTdGF0dXNDb2RlLlNlZU90aGVyIDogUmVkaXJlY3RTdGF0dXNDb2RlLlRlbXBvcmFyeVJlZGlyZWN0KTtcbn1cbi8qKlxuICogV2hlbiB1c2VkIGluIGEgc3RyZWFtaW5nIGNvbnRleHQsIHRoaXMgd2lsbCBpbnNlcnQgYSBtZXRhIHRhZyB0b1xuICogcmVkaXJlY3QgdGhlIHVzZXIgdG8gdGhlIHRhcmdldCBwYWdlLiBXaGVuIHVzZWQgaW4gYSBjdXN0b20gYXBwIHJvdXRlLCBpdFxuICogd2lsbCBzZXJ2ZSBhIDMwOC8zMDMgdG8gdGhlIGNhbGxlci5cbiAqXG4gKiBAcGFyYW0gdXJsIHRoZSB1cmwgdG8gcmVkaXJlY3QgdG9cbiAqLyBleHBvcnQgZnVuY3Rpb24gcGVybWFuZW50UmVkaXJlY3QodXJsLCB0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgdHlwZSA9IFwicmVwbGFjZVwiO1xuICAgIGNvbnN0IGFjdGlvblN0b3JlID0gYWN0aW9uQXN5bmNTdG9yYWdlLmdldFN0b3JlKCk7XG4gICAgdGhyb3cgZ2V0UmVkaXJlY3RFcnJvcih1cmwsIHR5cGUsIC8vIElmIHdlJ3JlIGluIGFuIGFjdGlvbiwgd2Ugd2FudCB0byB1c2UgYSAzMDMgcmVkaXJlY3RcbiAgICAvLyBhcyB3ZSBkb24ndCB3YW50IHRoZSBQT1NUIHJlcXVlc3QgdG8gZm9sbG93IHRoZSByZWRpcmVjdCxcbiAgICAvLyBhcyBpdCBjb3VsZCByZXN1bHQgaW4gZXJyb25lb3VzIHJlLXN1Ym1pc3Npb25zLlxuICAgIChhY3Rpb25TdG9yZSA9PSBudWxsID8gdm9pZCAwIDogYWN0aW9uU3RvcmUuaXNBY3Rpb24pID8gUmVkaXJlY3RTdGF0dXNDb2RlLlNlZU90aGVyIDogUmVkaXJlY3RTdGF0dXNDb2RlLlBlcm1hbmVudFJlZGlyZWN0KTtcbn1cbi8qKlxuICogQ2hlY2tzIGFuIGVycm9yIHRvIGRldGVybWluZSBpZiBpdCdzIGFuIGVycm9yIGdlbmVyYXRlZCBieSB0aGVcbiAqIGByZWRpcmVjdCh1cmwpYCBoZWxwZXIuXG4gKlxuICogQHBhcmFtIGVycm9yIHRoZSBlcnJvciB0aGF0IG1heSByZWZlcmVuY2UgYSByZWRpcmVjdCBlcnJvclxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgZXJyb3IgaXMgYSByZWRpcmVjdCBlcnJvclxuICovIGV4cG9ydCBmdW5jdGlvbiBpc1JlZGlyZWN0RXJyb3IoZXJyb3IpIHtcbiAgICBpZiAodHlwZW9mIGVycm9yICE9PSBcIm9iamVjdFwiIHx8IGVycm9yID09PSBudWxsIHx8ICEoXCJkaWdlc3RcIiBpbiBlcnJvcikgfHwgdHlwZW9mIGVycm9yLmRpZ2VzdCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IFtlcnJvckNvZGUsIHR5cGUsIGRlc3RpbmF0aW9uLCBzdGF0dXNdID0gZXJyb3IuZGlnZXN0LnNwbGl0KFwiO1wiLCA0KTtcbiAgICBjb25zdCBzdGF0dXNDb2RlID0gTnVtYmVyKHN0YXR1cyk7XG4gICAgcmV0dXJuIGVycm9yQ29kZSA9PT0gUkVESVJFQ1RfRVJST1JfQ09ERSAmJiAodHlwZSA9PT0gXCJyZXBsYWNlXCIgfHwgdHlwZSA9PT0gXCJwdXNoXCIpICYmIHR5cGVvZiBkZXN0aW5hdGlvbiA9PT0gXCJzdHJpbmdcIiAmJiAhaXNOYU4oc3RhdHVzQ29kZSkgJiYgc3RhdHVzQ29kZSBpbiBSZWRpcmVjdFN0YXR1c0NvZGU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VVJMRnJvbVJlZGlyZWN0RXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoIWlzUmVkaXJlY3RFcnJvcihlcnJvcikpIHJldHVybiBudWxsO1xuICAgIC8vIFNsaWNlcyBvZmYgdGhlIGJlZ2lubmluZyBvZiB0aGUgZGlnZXN0IHRoYXQgY29udGFpbnMgdGhlIGNvZGUgYW5kIHRoZVxuICAgIC8vIHNlcGFyYXRpbmcgJzsnLlxuICAgIHJldHVybiBlcnJvci5kaWdlc3Quc3BsaXQoXCI7XCIsIDMpWzJdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZGlyZWN0VHlwZUZyb21FcnJvcihlcnJvcikge1xuICAgIGlmICghaXNSZWRpcmVjdEVycm9yKGVycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSByZWRpcmVjdCBlcnJvclwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9yLmRpZ2VzdC5zcGxpdChcIjtcIiwgMilbMV07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVkaXJlY3RTdGF0dXNDb2RlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgaWYgKCFpc1JlZGlyZWN0RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBhIHJlZGlyZWN0IGVycm9yXCIpO1xuICAgIH1cbiAgICByZXR1cm4gTnVtYmVyKGVycm9yLmRpZ2VzdC5zcGxpdChcIjtcIiwgNClbM10pO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWRpcmVjdC5qcy5tYXAiXSwibmFtZXMiOlsicmVxdWVzdEFzeW5jU3RvcmFnZSIsImFjdGlvbkFzeW5jU3RvcmFnZSIsIlJlZGlyZWN0U3RhdHVzQ29kZSIsIlJFRElSRUNUX0VSUk9SX0NPREUiLCJSZWRpcmVjdFR5cGUiLCJnZXRSZWRpcmVjdEVycm9yIiwidXJsIiwidHlwZSIsInN0YXR1c0NvZGUiLCJUZW1wb3JhcnlSZWRpcmVjdCIsImVycm9yIiwiRXJyb3IiLCJkaWdlc3QiLCJyZXF1ZXN0U3RvcmUiLCJnZXRTdG9yZSIsIm11dGFibGVDb29raWVzIiwicmVkaXJlY3QiLCJhY3Rpb25TdG9yZSIsImlzQWN0aW9uIiwiU2VlT3RoZXIiLCJwZXJtYW5lbnRSZWRpcmVjdCIsIlBlcm1hbmVudFJlZGlyZWN0IiwiaXNSZWRpcmVjdEVycm9yIiwiZXJyb3JDb2RlIiwiZGVzdGluYXRpb24iLCJzdGF0dXMiLCJzcGxpdCIsIk51bWJlciIsImlzTmFOIiwiZ2V0VVJMRnJvbVJlZGlyZWN0RXJyb3IiLCJnZXRSZWRpcmVjdFR5cGVGcm9tRXJyb3IiLCJnZXRSZWRpcmVjdFN0YXR1c0NvZGVGcm9tRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/redirect.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/client/components/static-generation-bailout.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/next/dist/esm/client/components/static-generation-bailout.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isStaticGenBailoutError: () => (/* binding */ isStaticGenBailoutError),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var _hooks_server_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hooks-server-context */ \"(middleware)/./node_modules/next/dist/esm/client/components/hooks-server-context.js\");\n/* harmony import */ var _static_generation_async_storage_external__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./static-generation-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/client/components/static-generation-async-storage.external.js\");\n\n\nconst NEXT_STATIC_GEN_BAILOUT = \"NEXT_STATIC_GEN_BAILOUT\";\nclass StaticGenBailoutError extends Error {\n    constructor(...args){\n        super(...args);\n        this.code = NEXT_STATIC_GEN_BAILOUT;\n    }\n}\nfunction isStaticGenBailoutError(error) {\n    if (typeof error !== \"object\" || error === null || !(\"code\" in error)) {\n        return false;\n    }\n    return error.code === NEXT_STATIC_GEN_BAILOUT;\n}\nfunction formatErrorMessage(reason, opts) {\n    const { dynamic, link } = opts || {};\n    const suffix = link ? \" See more info here: \" + link : \"\";\n    return \"Page\" + (dynamic ? ' with `dynamic = \"' + dynamic + '\"`' : \"\") + \" couldn't be rendered statically because it used `\" + reason + \"`.\" + suffix;\n}\nconst staticGenerationBailout = (reason, param)=>{\n    let { dynamic, link } = param === void 0 ? {} : param;\n    const staticGenerationStore = _static_generation_async_storage_external__WEBPACK_IMPORTED_MODULE_1__.staticGenerationAsyncStorage.getStore();\n    if (!staticGenerationStore) return false;\n    if (staticGenerationStore.forceStatic) {\n        return true;\n    }\n    if (staticGenerationStore.dynamicShouldError) {\n        throw new StaticGenBailoutError(formatErrorMessage(reason, {\n            link,\n            dynamic: dynamic != null ? dynamic : \"error\"\n        }));\n    }\n    const message = formatErrorMessage(reason, {\n        dynamic,\n        // this error should be caught by Next to bail out of static generation\n        // in case it's uncaught, this link provides some additional context as to why\n        link: \"https://nextjs.org/docs/messages/dynamic-server-error\"\n    });\n    // If postpone is available, we should postpone the render.\n    staticGenerationStore.postpone == null ? void 0 : staticGenerationStore.postpone.call(staticGenerationStore, reason);\n    // As this is a bailout, we don't want to revalidate, so set the revalidate\n    // to 0.\n    staticGenerationStore.revalidate = 0;\n    if (staticGenerationStore.isStaticGeneration) {\n        const err = new _hooks_server_context__WEBPACK_IMPORTED_MODULE_0__.DynamicServerError(message);\n        staticGenerationStore.dynamicUsageDescription = reason;\n        staticGenerationStore.dynamicUsageStack = err.stack;\n        throw err;\n    }\n    return false;\n}; //# sourceMappingURL=static-generation-bailout.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvc3RhdGljLWdlbmVyYXRpb24tYmFpbG91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTREO0FBQzhCO0FBQzFGLE1BQU1FLDBCQUEwQjtBQUNoQyxNQUFNQyw4QkFBOEJDO0lBQ2hDQyxZQUFZLEdBQUdDLElBQUksQ0FBQztRQUNoQixLQUFLLElBQUlBO1FBQ1QsSUFBSSxDQUFDQyxJQUFJLEdBQUdMO0lBQ2hCO0FBQ0o7QUFDTyxTQUFTTSx3QkFBd0JDLEtBQUs7SUFDekMsSUFBSSxPQUFPQSxVQUFVLFlBQVlBLFVBQVUsUUFBUSxDQUFFLFdBQVVBLEtBQUksR0FBSTtRQUNuRSxPQUFPO0lBQ1g7SUFDQSxPQUFPQSxNQUFNRixJQUFJLEtBQUtMO0FBQzFCO0FBQ0EsU0FBU1EsbUJBQW1CQyxNQUFNLEVBQUVDLElBQUk7SUFDcEMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBRSxHQUFHRixRQUFRLENBQUM7SUFDbkMsTUFBTUcsU0FBU0QsT0FBTywwQkFBMEJBLE9BQU87SUFDdkQsT0FBTyxTQUFVRCxDQUFBQSxVQUFVLHVCQUF1QkEsVUFBVSxPQUFPLEVBQUMsSUFBSyx1REFBdURGLFNBQVMsT0FBT0k7QUFDcEo7QUFDTyxNQUFNQywwQkFBMEIsQ0FBQ0wsUUFBUU07SUFDNUMsSUFBSSxFQUFFSixPQUFPLEVBQUVDLElBQUksRUFBRSxHQUFHRyxVQUFVLEtBQUssSUFBSSxDQUFDLElBQUlBO0lBQ2hELE1BQU1DLHdCQUF3QmpCLG1HQUE0QkEsQ0FBQ2tCLFFBQVE7SUFDbkUsSUFBSSxDQUFDRCx1QkFBdUIsT0FBTztJQUNuQyxJQUFJQSxzQkFBc0JFLFdBQVcsRUFBRTtRQUNuQyxPQUFPO0lBQ1g7SUFDQSxJQUFJRixzQkFBc0JHLGtCQUFrQixFQUFFO1FBQzFDLE1BQU0sSUFBSWxCLHNCQUFzQk8sbUJBQW1CQyxRQUFRO1lBQ3ZERztZQUNBRCxTQUFTQSxXQUFXLE9BQU9BLFVBQVU7UUFDekM7SUFDSjtJQUNBLE1BQU1TLFVBQVVaLG1CQUFtQkMsUUFBUTtRQUN2Q0U7UUFDQSx1RUFBdUU7UUFDdkUsOEVBQThFO1FBQzlFQyxNQUFNO0lBQ1Y7SUFDQSwyREFBMkQ7SUFDM0RJLHNCQUFzQkssUUFBUSxJQUFJLE9BQU8sS0FBSyxJQUFJTCxzQkFBc0JLLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDTix1QkFBdUJQO0lBQzdHLDJFQUEyRTtJQUMzRSxRQUFRO0lBQ1JPLHNCQUFzQk8sVUFBVSxHQUFHO0lBQ25DLElBQUlQLHNCQUFzQlEsa0JBQWtCLEVBQUU7UUFDMUMsTUFBTUMsTUFBTSxJQUFJM0IscUVBQWtCQSxDQUFDc0I7UUFDbkNKLHNCQUFzQlUsdUJBQXVCLEdBQUdqQjtRQUNoRE8sc0JBQXNCVyxpQkFBaUIsR0FBR0YsSUFBSUcsS0FBSztRQUNuRCxNQUFNSDtJQUNWO0lBQ0EsT0FBTztBQUNYLEVBQUUsQ0FFRixxREFBcUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vY2xpZW50L2NvbXBvbmVudHMvc3RhdGljLWdlbmVyYXRpb24tYmFpbG91dC5qcz9kYzgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IER5bmFtaWNTZXJ2ZXJFcnJvciB9IGZyb20gXCIuL2hvb2tzLXNlcnZlci1jb250ZXh0XCI7XG5pbXBvcnQgeyBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlIH0gZnJvbSBcIi4vc3RhdGljLWdlbmVyYXRpb24tYXN5bmMtc3RvcmFnZS5leHRlcm5hbFwiO1xuY29uc3QgTkVYVF9TVEFUSUNfR0VOX0JBSUxPVVQgPSBcIk5FWFRfU1RBVElDX0dFTl9CQUlMT1VUXCI7XG5jbGFzcyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoLi4uYXJncyl7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuICAgICAgICB0aGlzLmNvZGUgPSBORVhUX1NUQVRJQ19HRU5fQkFJTE9VVDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdGF0aWNHZW5CYWlsb3V0RXJyb3IoZXJyb3IpIHtcbiAgICBpZiAodHlwZW9mIGVycm9yICE9PSBcIm9iamVjdFwiIHx8IGVycm9yID09PSBudWxsIHx8ICEoXCJjb2RlXCIgaW4gZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9yLmNvZGUgPT09IE5FWFRfU1RBVElDX0dFTl9CQUlMT1VUO1xufVxuZnVuY3Rpb24gZm9ybWF0RXJyb3JNZXNzYWdlKHJlYXNvbiwgb3B0cykge1xuICAgIGNvbnN0IHsgZHluYW1pYywgbGluayB9ID0gb3B0cyB8fCB7fTtcbiAgICBjb25zdCBzdWZmaXggPSBsaW5rID8gXCIgU2VlIG1vcmUgaW5mbyBoZXJlOiBcIiArIGxpbmsgOiBcIlwiO1xuICAgIHJldHVybiBcIlBhZ2VcIiArIChkeW5hbWljID8gJyB3aXRoIGBkeW5hbWljID0gXCInICsgZHluYW1pYyArICdcImAnIDogXCJcIikgKyBcIiBjb3VsZG4ndCBiZSByZW5kZXJlZCBzdGF0aWNhbGx5IGJlY2F1c2UgaXQgdXNlZCBgXCIgKyByZWFzb24gKyBcImAuXCIgKyBzdWZmaXg7XG59XG5leHBvcnQgY29uc3Qgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgPSAocmVhc29uLCBwYXJhbSk9PntcbiAgICBsZXQgeyBkeW5hbWljLCBsaW5rIH0gPSBwYXJhbSA9PT0gdm9pZCAwID8ge30gOiBwYXJhbTtcbiAgICBjb25zdCBzdGF0aWNHZW5lcmF0aW9uU3RvcmUgPSBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLmdldFN0b3JlKCk7XG4gICAgaWYgKCFzdGF0aWNHZW5lcmF0aW9uU3RvcmUpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoc3RhdGljR2VuZXJhdGlvblN0b3JlLmZvcmNlU3RhdGljKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoc3RhdGljR2VuZXJhdGlvblN0b3JlLmR5bmFtaWNTaG91bGRFcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgU3RhdGljR2VuQmFpbG91dEVycm9yKGZvcm1hdEVycm9yTWVzc2FnZShyZWFzb24sIHtcbiAgICAgICAgICAgIGxpbmssXG4gICAgICAgICAgICBkeW5hbWljOiBkeW5hbWljICE9IG51bGwgPyBkeW5hbWljIDogXCJlcnJvclwiXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZSA9IGZvcm1hdEVycm9yTWVzc2FnZShyZWFzb24sIHtcbiAgICAgICAgZHluYW1pYyxcbiAgICAgICAgLy8gdGhpcyBlcnJvciBzaG91bGQgYmUgY2F1Z2h0IGJ5IE5leHQgdG8gYmFpbCBvdXQgb2Ygc3RhdGljIGdlbmVyYXRpb25cbiAgICAgICAgLy8gaW4gY2FzZSBpdCdzIHVuY2F1Z2h0LCB0aGlzIGxpbmsgcHJvdmlkZXMgc29tZSBhZGRpdGlvbmFsIGNvbnRleHQgYXMgdG8gd2h5XG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvZHluYW1pYy1zZXJ2ZXItZXJyb3JcIlxuICAgIH0pO1xuICAgIC8vIElmIHBvc3Rwb25lIGlzIGF2YWlsYWJsZSwgd2Ugc2hvdWxkIHBvc3Rwb25lIHRoZSByZW5kZXIuXG4gICAgc3RhdGljR2VuZXJhdGlvblN0b3JlLnBvc3Rwb25lID09IG51bGwgPyB2b2lkIDAgOiBzdGF0aWNHZW5lcmF0aW9uU3RvcmUucG9zdHBvbmUuY2FsbChzdGF0aWNHZW5lcmF0aW9uU3RvcmUsIHJlYXNvbik7XG4gICAgLy8gQXMgdGhpcyBpcyBhIGJhaWxvdXQsIHdlIGRvbid0IHdhbnQgdG8gcmV2YWxpZGF0ZSwgc28gc2V0IHRoZSByZXZhbGlkYXRlXG4gICAgLy8gdG8gMC5cbiAgICBzdGF0aWNHZW5lcmF0aW9uU3RvcmUucmV2YWxpZGF0ZSA9IDA7XG4gICAgaWYgKHN0YXRpY0dlbmVyYXRpb25TdG9yZS5pc1N0YXRpY0dlbmVyYXRpb24pIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IER5bmFtaWNTZXJ2ZXJFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvblN0b3JlLmR5bmFtaWNVc2FnZURlc2NyaXB0aW9uID0gcmVhc29uO1xuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uU3RvcmUuZHluYW1pY1VzYWdlU3RhY2sgPSBlcnIuc3RhY2s7XG4gICAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGljLWdlbmVyYXRpb24tYmFpbG91dC5qcy5tYXAiXSwibmFtZXMiOlsiRHluYW1pY1NlcnZlckVycm9yIiwic3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSIsIk5FWFRfU1RBVElDX0dFTl9CQUlMT1VUIiwiU3RhdGljR2VuQmFpbG91dEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsImFyZ3MiLCJjb2RlIiwiaXNTdGF0aWNHZW5CYWlsb3V0RXJyb3IiLCJlcnJvciIsImZvcm1hdEVycm9yTWVzc2FnZSIsInJlYXNvbiIsIm9wdHMiLCJkeW5hbWljIiwibGluayIsInN1ZmZpeCIsInN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IiwicGFyYW0iLCJzdGF0aWNHZW5lcmF0aW9uU3RvcmUiLCJnZXRTdG9yZSIsImZvcmNlU3RhdGljIiwiZHluYW1pY1Nob3VsZEVycm9yIiwibWVzc2FnZSIsInBvc3Rwb25lIiwiY2FsbCIsInJldmFsaWRhdGUiLCJpc1N0YXRpY0dlbmVyYXRpb24iLCJlcnIiLCJkeW5hbWljVXNhZ2VEZXNjcmlwdGlvbiIsImR5bmFtaWNVc2FnZVN0YWNrIiwic3RhY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/client/components/static-generation-bailout.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next/dist/esm/server/web/adapter.js":
/*!**********************************************************!*\
  !*** ./node_modules/next/dist/esm/server/web/adapter.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adapter: () => (/* binding */ adapter)\n/* harmony export */ });\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error */ \"(middleware)/./node_modules/next/dist/esm/server/web/error.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"(middleware)/./node_modules/next/dist/esm/server/web/utils.js\");\n/* harmony import */ var _spec_extension_fetch_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./spec-extension/fetch-event */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/fetch-event.js\");\n/* harmony import */ var _spec_extension_request__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./spec-extension/request */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/request.js\");\n/* harmony import */ var _spec_extension_response__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./spec-extension/response */ \"(middleware)/./node_modules/next/dist/esm/server/web/spec-extension/response.js\");\n/* harmony import */ var _shared_lib_router_utils_relativize_url__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/lib/router/utils/relativize-url */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/relativize-url.js\");\n/* harmony import */ var _next_url__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./next-url */ \"(middleware)/./node_modules/next/dist/esm/server/web/next-url.js\");\n/* harmony import */ var _internal_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../internal-utils */ \"(middleware)/./node_modules/next/dist/esm/server/internal-utils.js\");\n/* harmony import */ var _shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shared/lib/router/utils/app-paths */ \"(middleware)/./node_modules/next/dist/esm/shared/lib/router/utils/app-paths.js\");\n/* harmony import */ var _client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../client/components/app-router-headers */ \"(middleware)/./node_modules/next/dist/esm/client/components/app-router-headers.js\");\n/* harmony import */ var _lib_constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../lib/constants */ \"(middleware)/./node_modules/next/dist/esm/lib/constants.js\");\n/* harmony import */ var _globals__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./globals */ \"(middleware)/./node_modules/next/dist/esm/server/web/globals.js\");\n/* harmony import */ var _async_storage_request_async_storage_wrapper__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../async-storage/request-async-storage-wrapper */ \"(middleware)/./node_modules/next/dist/esm/server/async-storage/request-async-storage-wrapper.js\");\n/* harmony import */ var _client_components_request_async_storage_external__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../client/components/request-async-storage.external */ \"(shared)/./node_modules/next/dist/esm/client/components/request-async-storage.external.js\");\n/* harmony import */ var _lib_trace_tracer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../lib/trace/tracer */ \"(middleware)/./node_modules/next/dist/esm/server/lib/trace/tracer.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass NextRequestHint extends _spec_extension_request__WEBPACK_IMPORTED_MODULE_3__.NextRequest {\n    constructor(params){\n        super(params.input, params.init);\n        this.sourcePage = params.page;\n    }\n    get request() {\n        throw new _error__WEBPACK_IMPORTED_MODULE_0__.PageSignatureError({\n            page: this.sourcePage\n        });\n    }\n    respondWith() {\n        throw new _error__WEBPACK_IMPORTED_MODULE_0__.PageSignatureError({\n            page: this.sourcePage\n        });\n    }\n    waitUntil() {\n        throw new _error__WEBPACK_IMPORTED_MODULE_0__.PageSignatureError({\n            page: this.sourcePage\n        });\n    }\n}\nconst headersGetter = {\n    keys: (headers)=>Array.from(headers.keys()),\n    get: (headers, key)=>headers.get(key) ?? undefined\n};\nlet propagator = (request, fn)=>{\n    const tracer = (0,_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_14__.getTracer)();\n    return tracer.withPropagatedContext(request.headers, fn, headersGetter);\n};\nlet testApisIntercepted = false;\nfunction ensureTestApisIntercepted() {\n    if (!testApisIntercepted) {\n        testApisIntercepted = true;\n        if (process.env.NEXT_PRIVATE_TEST_PROXY === \"true\") {\n            const { interceptTestApis, wrapRequestHandler } = __webpack_require__(/*! next/dist/experimental/testmode/server-edge */ \"(middleware)/./node_modules/next/dist/experimental/testmode/server-edge.js\");\n            interceptTestApis();\n            propagator = wrapRequestHandler(propagator);\n        }\n    }\n}\nasync function adapter(params) {\n    ensureTestApisIntercepted();\n    await (0,_globals__WEBPACK_IMPORTED_MODULE_11__.ensureInstrumentationRegistered)();\n    // TODO-APP: use explicit marker for this\n    const isEdgeRendering = typeof self.__BUILD_MANIFEST !== \"undefined\";\n    const prerenderManifest = typeof self.__PRERENDER_MANIFEST === \"string\" ? JSON.parse(self.__PRERENDER_MANIFEST) : undefined;\n    params.request.url = (0,_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_8__.normalizeRscURL)(params.request.url);\n    const requestUrl = new _next_url__WEBPACK_IMPORTED_MODULE_6__.NextURL(params.request.url, {\n        headers: params.request.headers,\n        nextConfig: params.request.nextConfig\n    });\n    // Iterator uses an index to keep track of the current iteration. Because of deleting and appending below we can't just use the iterator.\n    // Instead we use the keys before iteration.\n    const keys = [\n        ...requestUrl.searchParams.keys()\n    ];\n    for (const key of keys){\n        const value = requestUrl.searchParams.getAll(key);\n        if (key !== _lib_constants__WEBPACK_IMPORTED_MODULE_10__.NEXT_QUERY_PARAM_PREFIX && key.startsWith(_lib_constants__WEBPACK_IMPORTED_MODULE_10__.NEXT_QUERY_PARAM_PREFIX)) {\n            const normalizedKey = key.substring(_lib_constants__WEBPACK_IMPORTED_MODULE_10__.NEXT_QUERY_PARAM_PREFIX.length);\n            requestUrl.searchParams.delete(normalizedKey);\n            for (const val of value){\n                requestUrl.searchParams.append(normalizedKey, val);\n            }\n            requestUrl.searchParams.delete(key);\n        }\n    }\n    // Ensure users only see page requests, never data requests.\n    const buildId = requestUrl.buildId;\n    requestUrl.buildId = \"\";\n    const isDataReq = params.request.headers[\"x-nextjs-data\"];\n    if (isDataReq && requestUrl.pathname === \"/index\") {\n        requestUrl.pathname = \"/\";\n    }\n    const requestHeaders = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.fromNodeOutgoingHttpHeaders)(params.request.headers);\n    const flightHeaders = new Map();\n    // Parameters should only be stripped for middleware\n    if (!isEdgeRendering) {\n        for (const param of _client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_9__.FLIGHT_PARAMETERS){\n            const key = param.toString().toLowerCase();\n            const value = requestHeaders.get(key);\n            if (value) {\n                flightHeaders.set(key, requestHeaders.get(key));\n                requestHeaders.delete(key);\n            }\n        }\n    }\n    const normalizeUrl =  false ? 0 : requestUrl;\n    const request = new NextRequestHint({\n        page: params.page,\n        // Strip internal query parameters off the request.\n        input: (0,_internal_utils__WEBPACK_IMPORTED_MODULE_7__.stripInternalSearchParams)(normalizeUrl, true).toString(),\n        init: {\n            body: params.request.body,\n            geo: params.request.geo,\n            headers: requestHeaders,\n            ip: params.request.ip,\n            method: params.request.method,\n            nextConfig: params.request.nextConfig,\n            signal: params.request.signal\n        }\n    });\n    /**\n   * This allows to identify the request as a data request. The user doesn't\n   * need to know about this property neither use it. We add it for testing\n   * purposes.\n   */ if (isDataReq) {\n        Object.defineProperty(request, \"__isData\", {\n            enumerable: false,\n            value: true\n        });\n    }\n    if (!globalThis.__incrementalCache && params.IncrementalCache) {\n        globalThis.__incrementalCache = new params.IncrementalCache({\n            appDir: true,\n            fetchCache: true,\n            minimalMode: \"development\" !== \"development\",\n            fetchCacheKeyPrefix: undefined,\n            dev: \"development\" === \"development\",\n            requestHeaders: params.request.headers,\n            requestProtocol: \"https\",\n            getPrerenderManifest: ()=>{\n                return {\n                    version: -1,\n                    routes: {},\n                    dynamicRoutes: {},\n                    notFoundRoutes: [],\n                    preview: {\n                        previewModeId: \"development-id\"\n                    }\n                };\n            }\n        });\n    }\n    const event = new _spec_extension_fetch_event__WEBPACK_IMPORTED_MODULE_2__.NextFetchEvent({\n        request,\n        page: params.page\n    });\n    let response;\n    let cookiesFromResponse;\n    response = await propagator(request, ()=>{\n        // we only care to make async storage available for middleware\n        const isMiddleware = params.page === \"/middleware\" || params.page === \"/src/middleware\";\n        if (isMiddleware) {\n            return _async_storage_request_async_storage_wrapper__WEBPACK_IMPORTED_MODULE_12__.RequestAsyncStorageWrapper.wrap(_client_components_request_async_storage_external__WEBPACK_IMPORTED_MODULE_13__.requestAsyncStorage, {\n                req: request,\n                renderOpts: {\n                    onUpdateCookies: (cookies)=>{\n                        cookiesFromResponse = cookies;\n                    },\n                    // @ts-expect-error: TODO: investigate why previewProps isn't on RenderOpts\n                    previewProps: (prerenderManifest == null ? void 0 : prerenderManifest.preview) || {\n                        previewModeId: \"development-id\",\n                        previewModeEncryptionKey: \"\",\n                        previewModeSigningKey: \"\"\n                    }\n                }\n            }, ()=>params.handler(request, event));\n        }\n        return params.handler(request, event);\n    });\n    // check if response is a Response object\n    if (response && !(response instanceof Response)) {\n        throw new TypeError(\"Expected an instance of Response to be returned\");\n    }\n    if (response && cookiesFromResponse) {\n        response.headers.set(\"set-cookie\", cookiesFromResponse);\n    }\n    /**\n   * For rewrites we must always include the locale in the final pathname\n   * so we re-create the NextURL forcing it to include it when the it is\n   * an internal rewrite. Also we make sure the outgoing rewrite URL is\n   * a data URL if the request was a data request.\n   */ const rewrite = response == null ? void 0 : response.headers.get(\"x-middleware-rewrite\");\n    if (response && rewrite) {\n        const rewriteUrl = new _next_url__WEBPACK_IMPORTED_MODULE_6__.NextURL(rewrite, {\n            forceLocale: true,\n            headers: params.request.headers,\n            nextConfig: params.request.nextConfig\n        });\n        if (true) {\n            if (rewriteUrl.host === request.nextUrl.host) {\n                rewriteUrl.buildId = buildId || rewriteUrl.buildId;\n                response.headers.set(\"x-middleware-rewrite\", String(rewriteUrl));\n            }\n        }\n        /**\n     * When the request is a data request we must show if there was a rewrite\n     * with an internal header so the client knows which component to load\n     * from the data request.\n     */ const relativizedRewrite = (0,_shared_lib_router_utils_relativize_url__WEBPACK_IMPORTED_MODULE_5__.relativizeURL)(String(rewriteUrl), String(requestUrl));\n        if (isDataReq && // if the rewrite is external and external rewrite\n        // resolving config is enabled don't add this header\n        // so the upstream app can set it instead\n        !(undefined && 0)) {\n            response.headers.set(\"x-nextjs-rewrite\", relativizedRewrite);\n        }\n    }\n    /**\n   * For redirects we will not include the locale in case when it is the\n   * default and we must also make sure the outgoing URL is a data one if\n   * the incoming request was a data request.\n   */ const redirect = response == null ? void 0 : response.headers.get(\"Location\");\n    if (response && redirect && !isEdgeRendering) {\n        const redirectURL = new _next_url__WEBPACK_IMPORTED_MODULE_6__.NextURL(redirect, {\n            forceLocale: false,\n            headers: params.request.headers,\n            nextConfig: params.request.nextConfig\n        });\n        /**\n     * Responses created from redirects have immutable headers so we have\n     * to clone the response to be able to modify it.\n     */ response = new Response(response.body, response);\n        if (true) {\n            if (redirectURL.host === request.nextUrl.host) {\n                redirectURL.buildId = buildId || redirectURL.buildId;\n                response.headers.set(\"Location\", String(redirectURL));\n            }\n        }\n        /**\n     * When the request is a data request we can't use the location header as\n     * it may end up with CORS error. Instead we map to an internal header so\n     * the client knows the destination.\n     */ if (isDataReq) {\n            response.headers.delete(\"Location\");\n            response.headers.set(\"x-nextjs-redirect\", (0,_shared_lib_router_utils_relativize_url__WEBPACK_IMPORTED_MODULE_5__.relativizeURL)(String(redirectURL), String(requestUrl)));\n        }\n    }\n    const finalResponse = response ? response : _spec_extension_response__WEBPACK_IMPORTED_MODULE_4__.NextResponse.next();\n    // Flight headers are not overridable / removable so they are applied at the end.\n    const middlewareOverrideHeaders = finalResponse.headers.get(\"x-middleware-override-headers\");\n    const overwrittenHeaders = [];\n    if (middlewareOverrideHeaders) {\n        for (const [key, value] of flightHeaders){\n            finalResponse.headers.set(`x-middleware-request-${key}`, value);\n            overwrittenHeaders.push(key);\n        }\n        if (overwrittenHeaders.length > 0) {\n            finalResponse.headers.set(\"x-middleware-override-headers\", middlewareOverrideHeaders + \",\" + overwrittenHeaders.join(\",\"));\n        }\n    }\n    return {\n        response: finalResponse,\n        waitUntil: Promise.all(event[_spec_extension_fetch_event__WEBPACK_IMPORTED_MODULE_2__.waitUntilSymbol]),\n        fetchMetrics: request.fetchMetrics\n    };\n} //# sourceMappingURL=adapter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9lc20vc2VydmVyL3dlYi9hZGFwdGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkM7QUFDUztBQUNRO0FBQ1A7QUFDRTtBQUNvQjtBQUNkO0FBQzFCO0FBQ3lCO0FBQ1k7QUFDSztBQUNqQjtBQUNGO0FBQ2dDO0FBQ0M7QUFDN0M7QUFDaEQsTUFBTWdCLHdCQUF3QmIsZ0VBQVdBO0lBQ3JDYyxZQUFZQyxNQUFNLENBQUM7UUFDZixLQUFLLENBQUNBLE9BQU9DLEtBQUssRUFBRUQsT0FBT0UsSUFBSTtRQUMvQixJQUFJLENBQUNDLFVBQVUsR0FBR0gsT0FBT0ksSUFBSTtJQUNqQztJQUNBLElBQUlDLFVBQVU7UUFDVixNQUFNLElBQUl2QixzREFBa0JBLENBQUM7WUFDekJzQixNQUFNLElBQUksQ0FBQ0QsVUFBVTtRQUN6QjtJQUNKO0lBQ0FHLGNBQWM7UUFDVixNQUFNLElBQUl4QixzREFBa0JBLENBQUM7WUFDekJzQixNQUFNLElBQUksQ0FBQ0QsVUFBVTtRQUN6QjtJQUNKO0lBQ0FJLFlBQVk7UUFDUixNQUFNLElBQUl6QixzREFBa0JBLENBQUM7WUFDekJzQixNQUFNLElBQUksQ0FBQ0QsVUFBVTtRQUN6QjtJQUNKO0FBQ0o7QUFDQSxNQUFNSyxnQkFBZ0I7SUFDbEJDLE1BQU0sQ0FBQ0MsVUFBVUMsTUFBTUMsSUFBSSxDQUFDRixRQUFRRCxJQUFJO0lBQ3hDSSxLQUFLLENBQUNILFNBQVNJLE1BQU1KLFFBQVFHLEdBQUcsQ0FBQ0MsUUFBUUM7QUFDN0M7QUFDQSxJQUFJQyxhQUFhLENBQUNYLFNBQVNZO0lBQ3ZCLE1BQU1DLFNBQVNyQiw2REFBU0E7SUFDeEIsT0FBT3FCLE9BQU9DLHFCQUFxQixDQUFDZCxRQUFRSyxPQUFPLEVBQUVPLElBQUlUO0FBQzdEO0FBQ0EsSUFBSVksc0JBQXNCO0FBQzFCLFNBQVNDO0lBQ0wsSUFBSSxDQUFDRCxxQkFBcUI7UUFDdEJB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ekIsV0FBV0EsV0FBV3RHLGtFQUFZQSxDQUFDZ0ksSUFBSTtJQUM3RCxpRkFBaUY7SUFDakYsTUFBTUMsNEJBQTRCRixjQUFjdkcsT0FBTyxDQUFDRyxHQUFHLENBQUM7SUFDNUQsTUFBTXVHLHFCQUFxQixFQUFFO0lBQzdCLElBQUlELDJCQUEyQjtRQUMzQixLQUFLLE1BQU0sQ0FBQ3JHLEtBQUswQixNQUFNLElBQUlhLGNBQWM7WUFDckM0RCxjQUFjdkcsT0FBTyxDQUFDZ0QsR0FBRyxDQUFDLENBQUMscUJBQXFCLEVBQUU1QyxJQUFJLENBQUMsRUFBRTBCO1lBQ3pENEUsbUJBQW1CQyxJQUFJLENBQUN2RztRQUM1QjtRQUNBLElBQUlzRyxtQkFBbUJ2RSxNQUFNLEdBQUcsR0FBRztZQUMvQm9FLGNBQWN2RyxPQUFPLENBQUNnRCxHQUFHLENBQUMsaUNBQWlDeUQsNEJBQTRCLE1BQU1DLG1CQUFtQkUsSUFBSSxDQUFDO1FBQ3pIO0lBQ0o7SUFDQSxPQUFPO1FBQ0g5QixVQUFVeUI7UUFDVjFHLFdBQVdnSCxRQUFRQyxHQUFHLENBQUNqQyxLQUFLLENBQUNuRyx3RUFBZUEsQ0FBQztRQUM3Q3FJLGNBQWNwSCxRQUFRb0gsWUFBWTtJQUN0QztBQUNKLEVBRUEsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvZXNtL3NlcnZlci93ZWIvYWRhcHRlci5qcz83ZDQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VTaWduYXR1cmVFcnJvciB9IGZyb20gXCIuL2Vycm9yXCI7XG5pbXBvcnQgeyBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHsgTmV4dEZldGNoRXZlbnQgfSBmcm9tIFwiLi9zcGVjLWV4dGVuc2lvbi9mZXRjaC1ldmVudFwiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tIFwiLi9zcGVjLWV4dGVuc2lvbi9yZXF1ZXN0XCI7XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwiLi9zcGVjLWV4dGVuc2lvbi9yZXNwb25zZVwiO1xuaW1wb3J0IHsgcmVsYXRpdml6ZVVSTCB9IGZyb20gXCIuLi8uLi9zaGFyZWQvbGliL3JvdXRlci91dGlscy9yZWxhdGl2aXplLXVybFwiO1xuaW1wb3J0IHsgd2FpdFVudGlsU3ltYm9sIH0gZnJvbSBcIi4vc3BlYy1leHRlbnNpb24vZmV0Y2gtZXZlbnRcIjtcbmltcG9ydCB7IE5leHRVUkwgfSBmcm9tIFwiLi9uZXh0LXVybFwiO1xuaW1wb3J0IHsgc3RyaXBJbnRlcm5hbFNlYXJjaFBhcmFtcyB9IGZyb20gXCIuLi9pbnRlcm5hbC11dGlsc1wiO1xuaW1wb3J0IHsgbm9ybWFsaXplUnNjVVJMIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRoc1wiO1xuaW1wb3J0IHsgRkxJR0hUX1BBUkFNRVRFUlMgfSBmcm9tIFwiLi4vLi4vY2xpZW50L2NvbXBvbmVudHMvYXBwLXJvdXRlci1oZWFkZXJzXCI7XG5pbXBvcnQgeyBORVhUX1FVRVJZX1BBUkFNX1BSRUZJWCB9IGZyb20gXCIuLi8uLi9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBlbnN1cmVJbnN0cnVtZW50YXRpb25SZWdpc3RlcmVkIH0gZnJvbSBcIi4vZ2xvYmFsc1wiO1xuaW1wb3J0IHsgUmVxdWVzdEFzeW5jU3RvcmFnZVdyYXBwZXIgfSBmcm9tIFwiLi4vYXN5bmMtc3RvcmFnZS9yZXF1ZXN0LWFzeW5jLXN0b3JhZ2Utd3JhcHBlclwiO1xuaW1wb3J0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSB9IGZyb20gXCIuLi8uLi9jbGllbnQvY29tcG9uZW50cy9yZXF1ZXN0LWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IGdldFRyYWNlciB9IGZyb20gXCIuLi9saWIvdHJhY2UvdHJhY2VyXCI7XG5jbGFzcyBOZXh0UmVxdWVzdEhpbnQgZXh0ZW5kcyBOZXh0UmVxdWVzdCB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKXtcbiAgICAgICAgc3VwZXIocGFyYW1zLmlucHV0LCBwYXJhbXMuaW5pdCk7XG4gICAgICAgIHRoaXMuc291cmNlUGFnZSA9IHBhcmFtcy5wYWdlO1xuICAgIH1cbiAgICBnZXQgcmVxdWVzdCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhZ2VTaWduYXR1cmVFcnJvcih7XG4gICAgICAgICAgICBwYWdlOiB0aGlzLnNvdXJjZVBhZ2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlc3BvbmRXaXRoKCkge1xuICAgICAgICB0aHJvdyBuZXcgUGFnZVNpZ25hdHVyZUVycm9yKHtcbiAgICAgICAgICAgIHBhZ2U6IHRoaXMuc291cmNlUGFnZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgd2FpdFVudGlsKCkge1xuICAgICAgICB0aHJvdyBuZXcgUGFnZVNpZ25hdHVyZUVycm9yKHtcbiAgICAgICAgICAgIHBhZ2U6IHRoaXMuc291cmNlUGFnZVxuICAgICAgICB9KTtcbiAgICB9XG59XG5jb25zdCBoZWFkZXJzR2V0dGVyID0ge1xuICAgIGtleXM6IChoZWFkZXJzKT0+QXJyYXkuZnJvbShoZWFkZXJzLmtleXMoKSksXG4gICAgZ2V0OiAoaGVhZGVycywga2V5KT0+aGVhZGVycy5nZXQoa2V5KSA/PyB1bmRlZmluZWRcbn07XG5sZXQgcHJvcGFnYXRvciA9IChyZXF1ZXN0LCBmbik9PntcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICByZXR1cm4gdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXF1ZXN0LmhlYWRlcnMsIGZuLCBoZWFkZXJzR2V0dGVyKTtcbn07XG5sZXQgdGVzdEFwaXNJbnRlcmNlcHRlZCA9IGZhbHNlO1xuZnVuY3Rpb24gZW5zdXJlVGVzdEFwaXNJbnRlcmNlcHRlZCgpIHtcbiAgICBpZiAoIXRlc3RBcGlzSW50ZXJjZXB0ZWQpIHtcbiAgICAgICAgdGVzdEFwaXNJbnRlcmNlcHRlZCA9IHRydWU7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5ORVhUX1BSSVZBVEVfVEVTVF9QUk9YWSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaW50ZXJjZXB0VGVzdEFwaXMsIHdyYXBSZXF1ZXN0SGFuZGxlciB9ID0gcmVxdWlyZShcIm5leHQvZGlzdC9leHBlcmltZW50YWwvdGVzdG1vZGUvc2VydmVyLWVkZ2VcIik7XG4gICAgICAgICAgICBpbnRlcmNlcHRUZXN0QXBpcygpO1xuICAgICAgICAgICAgcHJvcGFnYXRvciA9IHdyYXBSZXF1ZXN0SGFuZGxlcihwcm9wYWdhdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGFwdGVyKHBhcmFtcykge1xuICAgIGVuc3VyZVRlc3RBcGlzSW50ZXJjZXB0ZWQoKTtcbiAgICBhd2FpdCBlbnN1cmVJbnN0cnVtZW50YXRpb25SZWdpc3RlcmVkKCk7XG4gICAgLy8gVE9ETy1BUFA6IHVzZSBleHBsaWNpdCBtYXJrZXIgZm9yIHRoaXNcbiAgICBjb25zdCBpc0VkZ2VSZW5kZXJpbmcgPSB0eXBlb2Ygc2VsZi5fX0JVSUxEX01BTklGRVNUICE9PSBcInVuZGVmaW5lZFwiO1xuICAgIGNvbnN0IHByZXJlbmRlck1hbmlmZXN0ID0gdHlwZW9mIHNlbGYuX19QUkVSRU5ERVJfTUFOSUZFU1QgPT09IFwic3RyaW5nXCIgPyBKU09OLnBhcnNlKHNlbGYuX19QUkVSRU5ERVJfTUFOSUZFU1QpIDogdW5kZWZpbmVkO1xuICAgIHBhcmFtcy5yZXF1ZXN0LnVybCA9IG5vcm1hbGl6ZVJzY1VSTChwYXJhbXMucmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IHJlcXVlc3RVcmwgPSBuZXcgTmV4dFVSTChwYXJhbXMucmVxdWVzdC51cmwsIHtcbiAgICAgICAgaGVhZGVyczogcGFyYW1zLnJlcXVlc3QuaGVhZGVycyxcbiAgICAgICAgbmV4dENvbmZpZzogcGFyYW1zLnJlcXVlc3QubmV4dENvbmZpZ1xuICAgIH0pO1xuICAgIC8vIEl0ZXJhdG9yIHVzZXMgYW4gaW5kZXggdG8ga2VlcCB0cmFjayBvZiB0aGUgY3VycmVudCBpdGVyYXRpb24uIEJlY2F1c2Ugb2YgZGVsZXRpbmcgYW5kIGFwcGVuZGluZyBiZWxvdyB3ZSBjYW4ndCBqdXN0IHVzZSB0aGUgaXRlcmF0b3IuXG4gICAgLy8gSW5zdGVhZCB3ZSB1c2UgdGhlIGtleXMgYmVmb3JlIGl0ZXJhdGlvbi5cbiAgICBjb25zdCBrZXlzID0gW1xuICAgICAgICAuLi5yZXF1ZXN0VXJsLnNlYXJjaFBhcmFtcy5rZXlzKClcbiAgICBdO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpe1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHJlcXVlc3RVcmwuc2VhcmNoUGFyYW1zLmdldEFsbChrZXkpO1xuICAgICAgICBpZiAoa2V5ICE9PSBORVhUX1FVRVJZX1BBUkFNX1BSRUZJWCAmJiBrZXkuc3RhcnRzV2l0aChORVhUX1FVRVJZX1BBUkFNX1BSRUZJWCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkuc3Vic3RyaW5nKE5FWFRfUVVFUllfUEFSQU1fUFJFRklYLmxlbmd0aCk7XG4gICAgICAgICAgICByZXF1ZXN0VXJsLnNlYXJjaFBhcmFtcy5kZWxldGUobm9ybWFsaXplZEtleSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgcmVxdWVzdFVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKG5vcm1hbGl6ZWRLZXksIHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXF1ZXN0VXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBFbnN1cmUgdXNlcnMgb25seSBzZWUgcGFnZSByZXF1ZXN0cywgbmV2ZXIgZGF0YSByZXF1ZXN0cy5cbiAgICBjb25zdCBidWlsZElkID0gcmVxdWVzdFVybC5idWlsZElkO1xuICAgIHJlcXVlc3RVcmwuYnVpbGRJZCA9IFwiXCI7XG4gICAgY29uc3QgaXNEYXRhUmVxID0gcGFyYW1zLnJlcXVlc3QuaGVhZGVyc1tcIngtbmV4dGpzLWRhdGFcIl07XG4gICAgaWYgKGlzRGF0YVJlcSAmJiByZXF1ZXN0VXJsLnBhdGhuYW1lID09PSBcIi9pbmRleFwiKSB7XG4gICAgICAgIHJlcXVlc3RVcmwucGF0aG5hbWUgPSBcIi9cIjtcbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocGFyYW1zLnJlcXVlc3QuaGVhZGVycyk7XG4gICAgY29uc3QgZmxpZ2h0SGVhZGVycyA9IG5ldyBNYXAoKTtcbiAgICAvLyBQYXJhbWV0ZXJzIHNob3VsZCBvbmx5IGJlIHN0cmlwcGVkIGZvciBtaWRkbGV3YXJlXG4gICAgaWYgKCFpc0VkZ2VSZW5kZXJpbmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBwYXJhbSBvZiBGTElHSFRfUEFSQU1FVEVSUyl7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBwYXJhbS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlcXVlc3RIZWFkZXJzLmdldChrZXkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZmxpZ2h0SGVhZGVycy5zZXQoa2V5LCByZXF1ZXN0SGVhZGVycy5nZXQoa2V5KSk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgbm9ybWFsaXplVXJsID0gcHJvY2Vzcy5lbnYuX19ORVhUX05PX01JRERMRVdBUkVfVVJMX05PUk1BTElaRSA/IG5ldyBVUkwocGFyYW1zLnJlcXVlc3QudXJsKSA6IHJlcXVlc3RVcmw7XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdEhpbnQoe1xuICAgICAgICBwYWdlOiBwYXJhbXMucGFnZSxcbiAgICAgICAgLy8gU3RyaXAgaW50ZXJuYWwgcXVlcnkgcGFyYW1ldGVycyBvZmYgdGhlIHJlcXVlc3QuXG4gICAgICAgIGlucHV0OiBzdHJpcEludGVybmFsU2VhcmNoUGFyYW1zKG5vcm1hbGl6ZVVybCwgdHJ1ZSkudG9TdHJpbmcoKSxcbiAgICAgICAgaW5pdDoge1xuICAgICAgICAgICAgYm9keTogcGFyYW1zLnJlcXVlc3QuYm9keSxcbiAgICAgICAgICAgIGdlbzogcGFyYW1zLnJlcXVlc3QuZ2VvLFxuICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdEhlYWRlcnMsXG4gICAgICAgICAgICBpcDogcGFyYW1zLnJlcXVlc3QuaXAsXG4gICAgICAgICAgICBtZXRob2Q6IHBhcmFtcy5yZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgIG5leHRDb25maWc6IHBhcmFtcy5yZXF1ZXN0Lm5leHRDb25maWcsXG4gICAgICAgICAgICBzaWduYWw6IHBhcmFtcy5yZXF1ZXN0LnNpZ25hbFxuICAgICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAqIFRoaXMgYWxsb3dzIHRvIGlkZW50aWZ5IHRoZSByZXF1ZXN0IGFzIGEgZGF0YSByZXF1ZXN0LiBUaGUgdXNlciBkb2Vzbid0XG4gICAqIG5lZWQgdG8ga25vdyBhYm91dCB0aGlzIHByb3BlcnR5IG5laXRoZXIgdXNlIGl0LiBXZSBhZGQgaXQgZm9yIHRlc3RpbmdcbiAgICogcHVycG9zZXMuXG4gICAqLyBpZiAoaXNEYXRhUmVxKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1ZXN0LCBcIl9faXNEYXRhXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghZ2xvYmFsVGhpcy5fX2luY3JlbWVudGFsQ2FjaGUgJiYgcGFyYW1zLkluY3JlbWVudGFsQ2FjaGUpIHtcbiAgICAgICAgZ2xvYmFsVGhpcy5fX2luY3JlbWVudGFsQ2FjaGUgPSBuZXcgcGFyYW1zLkluY3JlbWVudGFsQ2FjaGUoe1xuICAgICAgICAgICAgYXBwRGlyOiB0cnVlLFxuICAgICAgICAgICAgZmV0Y2hDYWNoZTogdHJ1ZSxcbiAgICAgICAgICAgIG1pbmltYWxNb2RlOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJkZXZlbG9wbWVudFwiLFxuICAgICAgICAgICAgZmV0Y2hDYWNoZUtleVByZWZpeDogcHJvY2Vzcy5lbnYuX19ORVhUX0ZFVENIX0NBQ0hFX0tFWV9QUkVGSVgsXG4gICAgICAgICAgICBkZXY6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIsXG4gICAgICAgICAgICByZXF1ZXN0SGVhZGVyczogcGFyYW1zLnJlcXVlc3QuaGVhZGVycyxcbiAgICAgICAgICAgIHJlcXVlc3RQcm90b2NvbDogXCJodHRwc1wiLFxuICAgICAgICAgICAgZ2V0UHJlcmVuZGVyTWFuaWZlc3Q6ICgpPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogLTEsXG4gICAgICAgICAgICAgICAgICAgIHJvdXRlczoge30sXG4gICAgICAgICAgICAgICAgICAgIGR5bmFtaWNSb3V0ZXM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBub3RGb3VuZFJvdXRlczogW10sXG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdNb2RlSWQ6IFwiZGV2ZWxvcG1lbnQtaWRcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50ID0gbmV3IE5leHRGZXRjaEV2ZW50KHtcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgcGFnZTogcGFyYW1zLnBhZ2VcbiAgICB9KTtcbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgbGV0IGNvb2tpZXNGcm9tUmVzcG9uc2U7XG4gICAgcmVzcG9uc2UgPSBhd2FpdCBwcm9wYWdhdG9yKHJlcXVlc3QsICgpPT57XG4gICAgICAgIC8vIHdlIG9ubHkgY2FyZSB0byBtYWtlIGFzeW5jIHN0b3JhZ2UgYXZhaWxhYmxlIGZvciBtaWRkbGV3YXJlXG4gICAgICAgIGNvbnN0IGlzTWlkZGxld2FyZSA9IHBhcmFtcy5wYWdlID09PSBcIi9taWRkbGV3YXJlXCIgfHwgcGFyYW1zLnBhZ2UgPT09IFwiL3NyYy9taWRkbGV3YXJlXCI7XG4gICAgICAgIGlmIChpc01pZGRsZXdhcmUpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0QXN5bmNTdG9yYWdlV3JhcHBlci53cmFwKHJlcXVlc3RBc3luY1N0b3JhZ2UsIHtcbiAgICAgICAgICAgICAgICByZXE6IHJlcXVlc3QsXG4gICAgICAgICAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZUNvb2tpZXM6IChjb29raWVzKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llc0Zyb21SZXNwb25zZSA9IGNvb2tpZXM7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IFRPRE86IGludmVzdGlnYXRlIHdoeSBwcmV2aWV3UHJvcHMgaXNuJ3Qgb24gUmVuZGVyT3B0c1xuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3UHJvcHM6IChwcmVyZW5kZXJNYW5pZmVzdCA9PSBudWxsID8gdm9pZCAwIDogcHJlcmVuZGVyTWFuaWZlc3QucHJldmlldykgfHwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlld01vZGVJZDogXCJkZXZlbG9wbWVudC1pZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlld01vZGVFbmNyeXB0aW9uS2V5OiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlld01vZGVTaWduaW5nS2V5OiBcIlwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAoKT0+cGFyYW1zLmhhbmRsZXIocmVxdWVzdCwgZXZlbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyYW1zLmhhbmRsZXIocmVxdWVzdCwgZXZlbnQpO1xuICAgIH0pO1xuICAgIC8vIGNoZWNrIGlmIHJlc3BvbnNlIGlzIGEgUmVzcG9uc2Ugb2JqZWN0XG4gICAgaWYgKHJlc3BvbnNlICYmICEocmVzcG9uc2UgaW5zdGFuY2VvZiBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIFJlc3BvbnNlIHRvIGJlIHJldHVybmVkXCIpO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2UgJiYgY29va2llc0Zyb21SZXNwb25zZSkge1xuICAgICAgICByZXNwb25zZS5oZWFkZXJzLnNldChcInNldC1jb29raWVcIiwgY29va2llc0Zyb21SZXNwb25zZSk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBGb3IgcmV3cml0ZXMgd2UgbXVzdCBhbHdheXMgaW5jbHVkZSB0aGUgbG9jYWxlIGluIHRoZSBmaW5hbCBwYXRobmFtZVxuICAgKiBzbyB3ZSByZS1jcmVhdGUgdGhlIE5leHRVUkwgZm9yY2luZyBpdCB0byBpbmNsdWRlIGl0IHdoZW4gdGhlIGl0IGlzXG4gICAqIGFuIGludGVybmFsIHJld3JpdGUuIEFsc28gd2UgbWFrZSBzdXJlIHRoZSBvdXRnb2luZyByZXdyaXRlIFVSTCBpc1xuICAgKiBhIGRhdGEgVVJMIGlmIHRoZSByZXF1ZXN0IHdhcyBhIGRhdGEgcmVxdWVzdC5cbiAgICovIGNvbnN0IHJld3JpdGUgPSByZXNwb25zZSA9PSBudWxsID8gdm9pZCAwIDogcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJ4LW1pZGRsZXdhcmUtcmV3cml0ZVwiKTtcbiAgICBpZiAocmVzcG9uc2UgJiYgcmV3cml0ZSkge1xuICAgICAgICBjb25zdCByZXdyaXRlVXJsID0gbmV3IE5leHRVUkwocmV3cml0ZSwge1xuICAgICAgICAgICAgZm9yY2VMb2NhbGU6IHRydWUsXG4gICAgICAgICAgICBoZWFkZXJzOiBwYXJhbXMucmVxdWVzdC5oZWFkZXJzLFxuICAgICAgICAgICAgbmV4dENvbmZpZzogcGFyYW1zLnJlcXVlc3QubmV4dENvbmZpZ1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFwcm9jZXNzLmVudi5fX05FWFRfTk9fTUlERExFV0FSRV9VUkxfTk9STUFMSVpFKSB7XG4gICAgICAgICAgICBpZiAocmV3cml0ZVVybC5ob3N0ID09PSByZXF1ZXN0Lm5leHRVcmwuaG9zdCkge1xuICAgICAgICAgICAgICAgIHJld3JpdGVVcmwuYnVpbGRJZCA9IGJ1aWxkSWQgfHwgcmV3cml0ZVVybC5idWlsZElkO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwieC1taWRkbGV3YXJlLXJld3JpdGVcIiwgU3RyaW5nKHJld3JpdGVVcmwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgKiBXaGVuIHRoZSByZXF1ZXN0IGlzIGEgZGF0YSByZXF1ZXN0IHdlIG11c3Qgc2hvdyBpZiB0aGVyZSB3YXMgYSByZXdyaXRlXG4gICAgICogd2l0aCBhbiBpbnRlcm5hbCBoZWFkZXIgc28gdGhlIGNsaWVudCBrbm93cyB3aGljaCBjb21wb25lbnQgdG8gbG9hZFxuICAgICAqIGZyb20gdGhlIGRhdGEgcmVxdWVzdC5cbiAgICAgKi8gY29uc3QgcmVsYXRpdml6ZWRSZXdyaXRlID0gcmVsYXRpdml6ZVVSTChTdHJpbmcocmV3cml0ZVVybCksIFN0cmluZyhyZXF1ZXN0VXJsKSk7XG4gICAgICAgIGlmIChpc0RhdGFSZXEgJiYgLy8gaWYgdGhlIHJld3JpdGUgaXMgZXh0ZXJuYWwgYW5kIGV4dGVybmFsIHJld3JpdGVcbiAgICAgICAgLy8gcmVzb2x2aW5nIGNvbmZpZyBpcyBlbmFibGVkIGRvbid0IGFkZCB0aGlzIGhlYWRlclxuICAgICAgICAvLyBzbyB0aGUgdXBzdHJlYW0gYXBwIGNhbiBzZXQgaXQgaW5zdGVhZFxuICAgICAgICAhKHByb2Nlc3MuZW52Ll9fTkVYVF9FWFRFUk5BTF9NSURETEVXQVJFX1JFV1JJVEVfUkVTT0xWRSAmJiByZWxhdGl2aXplZFJld3JpdGUubWF0Y2goL2h0dHAocyk/OlxcL1xcLy8pKSkge1xuICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoXCJ4LW5leHRqcy1yZXdyaXRlXCIsIHJlbGF0aXZpemVkUmV3cml0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAqIEZvciByZWRpcmVjdHMgd2Ugd2lsbCBub3QgaW5jbHVkZSB0aGUgbG9jYWxlIGluIGNhc2Ugd2hlbiBpdCBpcyB0aGVcbiAgICogZGVmYXVsdCBhbmQgd2UgbXVzdCBhbHNvIG1ha2Ugc3VyZSB0aGUgb3V0Z29pbmcgVVJMIGlzIGEgZGF0YSBvbmUgaWZcbiAgICogdGhlIGluY29taW5nIHJlcXVlc3Qgd2FzIGEgZGF0YSByZXF1ZXN0LlxuICAgKi8gY29uc3QgcmVkaXJlY3QgPSByZXNwb25zZSA9PSBudWxsID8gdm9pZCAwIDogcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKTtcbiAgICBpZiAocmVzcG9uc2UgJiYgcmVkaXJlY3QgJiYgIWlzRWRnZVJlbmRlcmluZykge1xuICAgICAgICBjb25zdCByZWRpcmVjdFVSTCA9IG5ldyBOZXh0VVJMKHJlZGlyZWN0LCB7XG4gICAgICAgICAgICBmb3JjZUxvY2FsZTogZmFsc2UsXG4gICAgICAgICAgICBoZWFkZXJzOiBwYXJhbXMucmVxdWVzdC5oZWFkZXJzLFxuICAgICAgICAgICAgbmV4dENvbmZpZzogcGFyYW1zLnJlcXVlc3QubmV4dENvbmZpZ1xuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICogUmVzcG9uc2VzIGNyZWF0ZWQgZnJvbSByZWRpcmVjdHMgaGF2ZSBpbW11dGFibGUgaGVhZGVycyBzbyB3ZSBoYXZlXG4gICAgICogdG8gY2xvbmUgdGhlIHJlc3BvbnNlIHRvIGJlIGFibGUgdG8gbW9kaWZ5IGl0LlxuICAgICAqLyByZXNwb25zZSA9IG5ldyBSZXNwb25zZShyZXNwb25zZS5ib2R5LCByZXNwb25zZSk7XG4gICAgICAgIGlmICghcHJvY2Vzcy5lbnYuX19ORVhUX05PX01JRERMRVdBUkVfVVJMX05PUk1BTElaRSkge1xuICAgICAgICAgICAgaWYgKHJlZGlyZWN0VVJMLmhvc3QgPT09IHJlcXVlc3QubmV4dFVybC5ob3N0KSB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RVUkwuYnVpbGRJZCA9IGJ1aWxkSWQgfHwgcmVkaXJlY3RVUkwuYnVpbGRJZDtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLnNldChcIkxvY2F0aW9uXCIsIFN0cmluZyhyZWRpcmVjdFVSTCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlcXVlc3QgaXMgYSBkYXRhIHJlcXVlc3Qgd2UgY2FuJ3QgdXNlIHRoZSBsb2NhdGlvbiBoZWFkZXIgYXNcbiAgICAgKiBpdCBtYXkgZW5kIHVwIHdpdGggQ09SUyBlcnJvci4gSW5zdGVhZCB3ZSBtYXAgdG8gYW4gaW50ZXJuYWwgaGVhZGVyIHNvXG4gICAgICogdGhlIGNsaWVudCBrbm93cyB0aGUgZGVzdGluYXRpb24uXG4gICAgICovIGlmIChpc0RhdGFSZXEpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuZGVsZXRlKFwiTG9jYXRpb25cIik7XG4gICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLnNldChcIngtbmV4dGpzLXJlZGlyZWN0XCIsIHJlbGF0aXZpemVVUkwoU3RyaW5nKHJlZGlyZWN0VVJMKSwgU3RyaW5nKHJlcXVlc3RVcmwpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZmluYWxSZXNwb25zZSA9IHJlc3BvbnNlID8gcmVzcG9uc2UgOiBOZXh0UmVzcG9uc2UubmV4dCgpO1xuICAgIC8vIEZsaWdodCBoZWFkZXJzIGFyZSBub3Qgb3ZlcnJpZGFibGUgLyByZW1vdmFibGUgc28gdGhleSBhcmUgYXBwbGllZCBhdCB0aGUgZW5kLlxuICAgIGNvbnN0IG1pZGRsZXdhcmVPdmVycmlkZUhlYWRlcnMgPSBmaW5hbFJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwieC1taWRkbGV3YXJlLW92ZXJyaWRlLWhlYWRlcnNcIik7XG4gICAgY29uc3Qgb3ZlcndyaXR0ZW5IZWFkZXJzID0gW107XG4gICAgaWYgKG1pZGRsZXdhcmVPdmVycmlkZUhlYWRlcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZmxpZ2h0SGVhZGVycyl7XG4gICAgICAgICAgICBmaW5hbFJlc3BvbnNlLmhlYWRlcnMuc2V0KGB4LW1pZGRsZXdhcmUtcmVxdWVzdC0ke2tleX1gLCB2YWx1ZSk7XG4gICAgICAgICAgICBvdmVyd3JpdHRlbkhlYWRlcnMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdmVyd3JpdHRlbkhlYWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZmluYWxSZXNwb25zZS5oZWFkZXJzLnNldChcIngtbWlkZGxld2FyZS1vdmVycmlkZS1oZWFkZXJzXCIsIG1pZGRsZXdhcmVPdmVycmlkZUhlYWRlcnMgKyBcIixcIiArIG92ZXJ3cml0dGVuSGVhZGVycy5qb2luKFwiLFwiKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzcG9uc2U6IGZpbmFsUmVzcG9uc2UsXG4gICAgICAgIHdhaXRVbnRpbDogUHJvbWlzZS5hbGwoZXZlbnRbd2FpdFVudGlsU3ltYm9sXSksXG4gICAgICAgIGZldGNoTWV0cmljczogcmVxdWVzdC5mZXRjaE1ldHJpY3NcbiAgICB9O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGFwdGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJQYWdlU2lnbmF0dXJlRXJyb3IiLCJmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMiLCJOZXh0RmV0Y2hFdmVudCIsIk5leHRSZXF1ZXN0IiwiTmV4dFJlc3BvbnNlIiwicmVsYXRpdml6ZVVSTCIsIndhaXRVbnRpbFN5bWJvbCIsIk5leHRVUkwiLCJzdHJpcEludGVybmFsU2VhcmNoUGFyYW1zIiwibm9ybWFsaXplUnNjVVJMIiwiRkxJR0hUX1BBUkFNRVRFUlMiLCJORVhUX1FVRVJZX1BBUkFNX1BSRUZJWCIsImVuc3VyZUluc3RydW1lbnRhdGlvblJlZ2lzdGVyZWQiLCJSZXF1ZXN0QXN5bmNTdG9yYWdlV3JhcHBlciIsInJlcXVlc3RBc3luY1N0b3JhZ2UiLCJnZXRUcmFjZXIiLCJOZXh0UmVxdWVzdEhpbnQiLCJjb25zdHJ1Y3RvciIsInBhcmFtcyIsImlucHV0IiwiaW5pdCIsInNvdXJjZVBhZ2UiLCJwYWdlIiwicmVxdWVzdCIsInJlc3BvbmRXaXRoIiwid2FpdFVudGlsIiwiaGVhZGVyc0dldHRlciIsImtleXMiLCJoZWFkZXJzIiwiQXJyYXkiLCJmcm9tIiwiZ2V0Iiwia2V5IiwidW5kZWZpbmVkIiwicHJvcGFnYXRvciIsImZuIiwidHJhY2VyIiwid2l0aFByb3BhZ2F0ZWRDb250ZXh0IiwidGVzdEFwaXNJbnRlcmNlcHRlZCIsImVuc3VyZVRlc3RBcGlzSW50ZXJjZXB0ZWQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QUklWQVRFX1RFU1RfUFJPWFkiLCJpbnRlcmNlcHRUZXN0QXBpcyIsIndyYXBSZXF1ZXN0SGFuZGxlciIsInJlcXVpcmUiLCJhZGFwdGVyIiwiaXNFZGdlUmVuZGVyaW5nIiwic2VsZiIsIl9fQlVJTERfTUFOSUZFU1QiLCJwcmVyZW5kZXJNYW5pZmVzdCIsIl9fUFJFUkVOREVSX01BTklGRVNUIiwiSlNPTiIsInBhcnNlIiwidXJsIiwicmVxdWVzdFVybCIsIm5leHRDb25maWciLCJzZWFyY2hQYXJhbXMiLCJ2YWx1ZSIsImdldEFsbCIsInN0YXJ0c1dpdGgiLCJub3JtYWxpemVkS2V5Iiwic3Vic3RyaW5nIiwibGVuZ3RoIiwiZGVsZXRlIiwidmFsIiwiYXBwZW5kIiwiYnVpbGRJZCIsImlzRGF0YVJlcSIsInBhdGhuYW1lIiwicmVxdWVzdEhlYWRlcnMiLCJmbGlnaHRIZWFkZXJzIiwiTWFwIiwicGFyYW0iLCJ0b1N0cmluZyIsInRvTG93ZXJDYXNlIiwic2V0Iiwibm9ybWFsaXplVXJsIiwiX19ORVhUX05PX01JRERMRVdBUkVfVVJMX05PUk1BTElaRSIsIlVSTCIsImJvZHkiLCJnZW8iLCJpcCIsIm1ldGhvZCIsInNpZ25hbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdsb2JhbFRoaXMiLCJfX2luY3JlbWVudGFsQ2FjaGUiLCJJbmNyZW1lbnRhbENhY2hlIiwiYXBwRGlyIiwiZmV0Y2hDYWNoZSIsIm1pbmltYWxNb2RlIiwiZmV0Y2hDYWNoZUtleVByZWZpeCIsIl9fTkVYVF9GRVRDSF9DQUNIRV9LRVlfUFJFRklYIiwiZGV2IiwicmVxdWVzdFByb3RvY29sIiwiZ2V0UHJlcmVuZGVyTWFuaWZlc3QiLCJ2ZXJzaW9uIiwicm91dGVzIiwiZHluYW1pY1JvdXRlcyIsIm5vdEZvdW5kUm91dGVzIiwicHJldmlldyIsInByZXZpZXdNb2RlSWQiLCJldmVudCIsInJlc3BvbnNlIiwiY29va2llc0Zyb21SZXNwb25zZSIsImlzTWlkZGxld2FyZSIsIndyYXAiLCJyZXEiLCJyZW5kZXJPcHRzIiwib25VcGRhdGVDb29raWVzIiwiY29va2llcyIsInByZXZpZXdQcm9wcyIsInByZXZpZXdNb2RlRW5jcnlwdGlvbktleSIsInByZXZpZXdNb2RlU2lnbmluZ0tleSIsImhhbmRsZXIiLCJSZXNwb25zZSIsIlR5cGVFcnJvciIsInJld3JpdGUiLCJyZXdyaXRlVXJsIiwiZm9yY2VMb2NhbGUiLCJob3N0IiwibmV4dFVybCIsIlN0cmluZyIsInJlbGF0aXZpemVkUmV3cml0ZSIsIl9fTkVYVF9FWFRFUk5BTF9NSURETEVXQVJFX1JFV1JJVEVfUkVTT0xWRSIsIm1hdGNoIiwicmVkaXJlY3QiLCJyZWRpcmVjdFVSTCIsImZpbmFsUmVzcG9uc2UiLCJuZXh0IiwibWlkZGxld2FyZU92ZXJyaWRlSGVhZGVycyIsIm92ZXJ3cml0dGVuSGVhZGVycyIsInB1c2giLCJqb2luIiwiUHJvbWlzZSIsImFsbCIsImZldGNoTWV0cmljcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next/dist/esm/server/web/adapter.js\n");

/***/ })

});